---
ID: "81ba432b-f3c6-4c54-b494-b344e2130013"
Parent: "e5f32f1b-4c3c-46b3-81ad-9fb51e9c1bed"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: /sitecore/media library/Base Themes/StickyNotes/Scripts/stickynotes
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/81BA432BF3C64C54B494B344E2130013.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "81ba432b-f3c6-4c54-b494-b344e2130013"
  Value: aWYgKHR5cGVvZiAoJHhhKSAhPT0gInVuZGVmaW5lZCIpIHsgDQogICAgJHhhLnN0aWNreW5vdGVzID0gKGZ1bmN0aW9uICgkKSB7DQoJCSJ1c2Ugc3RyaWN0IjsNCg0KICAgICAgICB2YXIgcHViID0ge30sDQogICAgICAgICAgICBub3RlcyA9IFtdLA0KICAgICAgICAgICAgc3RpY2t5bm90ZXNMaXN0ID0gbnVsbCwNCiAgICAgICAgICAgIG1pbldpZHRoID0gMTUwLA0KICAgICAgICAgICAgbWluSGVpZ2h0ID0gMTUwLA0KCQkJY29sb3JzID0gWyIjRkZGRjk5IiwgIiNGQzhEOEQiLCAiI0EyQkNGQyIsICIjOTFCODk3IiwgIiNGQ0JENkEiLCAiI0U1QkZGRiJdOw0KDQoJCWZ1bmN0aW9uIFN0aWNreU5vdGUoaWQsIG5ld05vdGUsIHVzZXJOYW1lKSB7DQoJCSAgICB0aGlzLmhpZ2hsaXRlZCA9IGZhbHNlOw0KCQkJdGhpcy5pZCA9IGlkOw0KCQkJdGhpcy5uZXdOb3RlID0gbmV3Tm90ZTsNCgkJCXRoaXMub2JqID0gJCgiIyIgKyBpZCk7DQoJCQl0aGlzLnByb3BlcnRpZXMgPSB7DQoJCQkJInBvc2l0aW9uVG9wIjogIjAiLA0KCQkJCSJwb3NpdGlvbkxlZnQiOiAiMCIsDQoJCQkJInRleHQiOiAiIiwNCgkJCQkic3RhdGUiOiAiIiwNCgkJCQkid2lkdGgiOiAiIiwNCgkJCQkiaGVpZ2h0IjogIiIsDQoJCQkJImNvbG9yIjogY29sb3JzWzBdLA0KCQkJCSJkYXRlIjogIiIsDQoJCQkJImNhbnZhc0NvbnRlbnQiOiAiIiwNCgkJCQkidXNlck5hbWUiOiAodXNlck5hbWUgPT09IHVuZGVmaW5lZCkgPyAiIiA6IHVzZXJOYW1lDQoJCQl9Ow0KCQl9DQoNCiAgICAgICAgU3RpY2t5Tm90ZS5wcm90b3R5cGUudW5oaWRlID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgc3RpY2t5bm90ZXNKc29uID0gc3RpY2t5bm90ZXNMaXN0LnZhbCgpLA0KICAgICAgICAgICAgICAgIHN0aWNreU5vdGVPYmogPSBKU09OLnBhcnNlKHN0aWNreW5vdGVzSnNvbiksDQogICAgICAgICAgICAgICAgaXRlbSwNCiAgICAgICAgICAgICAgICAkbm90ZTsNCg0KICAgICAgICAgICAgaWYgKHN0aWNreU5vdGVPYmouaXRlbXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGlja3lOb3RlT2JqLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBzdGlja3lOb3RlT2JqLml0ZW1zW2ldOw0KICAgICAgICAgICAgICAgICAgICAkbm90ZSA9ICQoIi5zdGlja3lub3Rlc1tkYXRhLWlkPSIgKyBpdGVtLmlkICsgIl0iKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCRub3RlLmhhc0NsYXNzKCJoaWRlIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICRub3RlLnRvZ2dsZUNsYXNzKCJoaWRlIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KCQlTdGlja3lOb3RlLnByb3RvdHlwZS5nZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkgew0KCQkJdmFyIGluc3QgPSB0aGlzLA0KCQkJCXN0aWNreW5vdGVzSnNvbiA9IHN0aWNreW5vdGVzTGlzdC52YWwoKSwNCgkJCQlpbml0aWFsaXplZCA9IGZhbHNlLA0KCQkJCXN0aWNreU5vdGVPYmogPSBKU09OLnBhcnNlKHN0aWNreW5vdGVzSnNvbiksDQoJCQkJY29tcG9uZW50Ow0KDQoJCQlpbnN0LmNvbXBvbmVudCA9IGluc3Qub2JqLm5leHQoKTsNCgkJICAgIGNvbXBvbmVudCA9IGluc3QuY29tcG9uZW50Ow0KCQkJaWYgKCFjb21wb25lbnQuaGFzQ2xhc3MoImNvbXBvbmVudCIpKSB7DQoJCQkJY29tcG9uZW50ID0gY29tcG9uZW50LmZpbmQoIi5jb21wb25lbnQiKTsNCgkJCX0NCg0KCQkJY29tcG9uZW50LmFkZENsYXNzKCJzdGlja3lub3Rlcy1hdmFpbGFibGUiKTsNCg0KCQkJaWYgKHN0aWNreU5vdGVPYmouaXRlbXMubGVuZ3RoKSB7DQoJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzdGlja3lOb3RlT2JqLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQoJCQkJCXZhciBpdGVtID0gc3RpY2t5Tm90ZU9iai5pdGVtc1tpXSwNCgkJCQkJCSRub3RlID0gJCgiLnN0aWNreW5vdGVzW2RhdGEtaWQ9IiArIGl0ZW0uaWQgKyAiXSIpOw0KDQoJCQkJCWlmIChpdGVtLmlkID09PSBpbnN0LmlkKSB7DQoJCQkJCQkkLmV4dGVuZChpbnN0LnByb3BlcnRpZXMsIGl0ZW0ucHJvcGVydGllcyk7DQoJCQkJCQlzdGlja3lOb3RlT2JqLml0ZW1zW2ldLnByb3BlcnRpZXMgPSBpbnN0LnByb3BlcnRpZXM7DQoJCQkJCQkvL3RoZXJlIGNvdWxkIGJlIHNpdHVhdGlvbiB0aGF0IGluaXQgZnVuY3Rpb24gd2FzIGNhbGxlZCB0d2ljZSAoZmlyc3QgdGltZSBiZWNhdXNlIHVwcGVyIHJpYmJvbiBjaGVja2JveCB3ZXJlIGNoZWNrZWQgYW5kIHNlY29uZGwgYmVjYXVzZSBzb21lb25lIHdhbnQncyB0byBhZGQgbmV3IHN0aWNreW5vdGVzDQoJCQkJCQkvL2JlY2F1c2Ugb2YgdGhhdCB3ZSBoYXZlIHRvIGNoZWNrIGlmIHRoYXQgc3RpY2t5bm90ZXMgd2Fzbid0IGRpc3BsYXllZCB5ZXQNCgkJCQkJCWlmICgkbm90ZS5sZW5ndGggPT0gMCkgew0KCQkJCQkJICAgIGluc3QuaW5pdE5vdGUoY29tcG9uZW50LCBpbnN0LnByb3BlcnRpZXMsIGluc3QuaWQpOw0KCQkJCQkJICAgICRub3RlID0gJCgiLnN0aWNreW5vdGVzW2RhdGEtaWQ9IiArIGl0ZW0uaWQgKyAiXSIpOw0KCQkJCQkJfQ0KCQkJCQkJaW5pdGlhbGl6ZWQgPSB0cnVlOw0KCQkJCQl9DQoJCQkJCSRub3RlLnNob3coKTsNCgkJCQl9DQoJCQl9DQoNCgkJCWlmICghaW5pdGlhbGl6ZWQpIHsNCgkJCQlzdGlja3lOb3RlT2JqLml0ZW1zLnB1c2goeyJpZCI6IGluc3QuaWQsICJwcm9wZXJ0aWVzIjogaW5zdC5wcm9wZXJ0aWVzfSk7DQoJCQkJaW5zdC5pbml0Tm90ZShjb21wb25lbnQsIGluc3QucHJvcGVydGllcywgaW5zdC5pZCk7DQoNCgkJCQlpZiAoc3RpY2t5Tm90ZU9iai5pdGVtcy5sZW5ndGgpIHsNCgkJCQkgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGlja3lOb3RlT2JqLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQoJCQkJICAgICAgICAkKCIuc3RpY2t5bm90ZXNbZGF0YS1pZD0iICsgc3RpY2t5Tm90ZU9iai5pdGVtc1tpXS5pZCArICJdIikuc2hvdygpOw0KCQkJCSAgICB9DQoJCQkJfQ0KCQkJfQ0KDQoJCQlzdGlja3lub3Rlc0xpc3QudmFsKEpTT04uc3RyaW5naWZ5KHN0aWNreU5vdGVPYmopKTsNCgkJfTsNCg0KCQlTdGlja3lOb3RlLnByb3RvdHlwZS51cGRhdGVIaWRkZW5GaWVsZCA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7DQoJCSAgICB2YXIgaW5zdCA9IHRoaXMsDQoJCSAgICAgICAgc3RpY2t5Tm90ZU9iaiA9IEpTT04ucGFyc2Uoc3RpY2t5bm90ZXNMaXN0LnZhbCgpKSwNCgkJICAgICAgICByZW1vdmVkT2JqID0ge30sDQoJCSAgICAgICAgY29tcG9uZW50ID0ge307DQoNCgkJICAgICQuZWFjaChzdGlja3lOb3RlT2JqLml0ZW1zLCBmdW5jdGlvbiAoaSwgaXRlbSkgew0KCQkJCWlmIChpdGVtLmlkID09PSBpbnN0LmlkKSB7DQoJCQkJCXJlbW92ZWRPYmogPSBpdGVtOw0KCQkJCQlzdGlja3lOb3RlT2JqLml0ZW1zLnNwbGljZShpLCAxKTsNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0NCgkJCX0pOw0KDQoJCQkkLmV4dGVuZChyZW1vdmVkT2JqLnByb3BlcnRpZXMsIHByb3BlcnRpZXMpOw0KCQkJc3RpY2t5Tm90ZU9iai5pdGVtcy5wdXNoKHJlbW92ZWRPYmopOw0KDQoJCQlzdGlja3lub3Rlc0xpc3QudmFsKEpTT04uc3RyaW5naWZ5KHN0aWNreU5vdGVPYmopKTsNCgkJCVNpdGVjb3JlLlBhZ2VNb2Rlcy5QYWdlRWRpdG9yLnNldE1vZGlmaWVkKHRydWUpOw0KCQl9Ow0KDQoJCVN0aWNreU5vdGUucHJvdG90eXBlLmRlbGV0ZU5vdGUgPSBmdW5jdGlvbiAobm90ZSkgew0KCQkJdmFyIGluc3QgPSB0aGlzLA0KCQkJCXN0aWNreU5vdGVKc29uID0gc3RpY2t5bm90ZXNMaXN0LnZhbCgpLA0KCQkJCXN0aWNreU5vdGVPYmogPSBKU09OLnBhcnNlKHN0aWNreU5vdGVKc29uKTsNCg0KCQkJJC5lYWNoKHN0aWNreU5vdGVPYmouaXRlbXMsIGZ1bmN0aW9uIChpLCBpdGVtKSB7DQoJCQkJaWYgKGl0ZW0uaWQgPT09IGluc3QuaWQpIHsNCgkJCQkJc3RpY2t5Tm90ZU9iai5pdGVtcy5zcGxpY2UoaSwgMSk7DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJJChub3RlKS5oaWRlKCk7DQoJCQkkKG5vdGUpLnJlbW92ZSgpOw0KCQkJc3RpY2t5bm90ZXNMaXN0LnZhbChKU09OLnN0cmluZ2lmeShzdGlja3lOb3RlT2JqKSk7DQoJCQlTaXRlY29yZS5QYWdlTW9kZXMuUGFnZUVkaXRvci5zZXRNb2RpZmllZCh0cnVlKTsNCgkJfTsNCg0KCQlTdGlja3lOb3RlLnByb3RvdHlwZS5pbml0Tm90ZSA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHByb3BlcnRpZXMsIGlkKSB7DQoJCQl2YXIgbm90ZSA9ICQoIjxkaXYgY2xhc3M9J3N0aWNreW5vdGVzJyBkYXRhLWlkPSciICsgaWQgKyAiJz4iICsNCgkJCQkiPHRleHRhcmVhPiIgKyBwcm9wZXJ0aWVzLnRleHQgKyAiPC90ZXh0YXJlYT4iICsNCgkJCQkiPGRpdiBjbGFzcz0nbmF2Jz48c3BhbiBjbGFzcz0nbWluaW1hbGl6ZSc+LTwvc3Bhbj48c3BhbiBjbGFzcz0nZHJhd2luZy1jb250cm9sJz48L3NwYW4+PHNwYW4gY2xhc3M9J3NlYXJjaCc+PC9zcGFuPjxzcGFuIGNsYXNzPSdkZWxldGUnPng8L3NwYW4+PC9kaXY+IiArDQoJCQkJIjxkaXYgY2xhc3M9J2JvdHRvbSc+PHNwYW4gY2xhc3M9J2RhdGUnPiIgKyBwcm9wZXJ0aWVzLmRhdGUgKyAiPC9zcGFuPjxzcGFuIGNsYXNzPSduYW1lJz4iICsgcHJvcGVydGllcy51c2VyTmFtZSArICI8L3NwYW4+PC9kaXY+IiArDQoJCQkJIjwvZGl2PiIpLA0KCQkJCWluc3QgPSB0aGlzLA0KCQkJCXJpYmJvbkhlaWdodCA9ICQoIiNzY1dlYkVkaXRSaWJib24iKS5oZWlnaHQoKSwNCgkJCQljdXJyZW50VG9wLCBjdXJyZW50TGVmdCwgd2lkdGgsIGhlaWdodDsNCg0KCQkJdmFyIGNvbXBvbmVudE9mZnNldFRvcCA9IGNvbXBvbmVudC5vZmZzZXQoKS50b3AsDQoJCQkJY29tcG9uZW50T2Zmc2V0TGVmdCA9IGNvbXBvbmVudC5vZmZzZXQoKS5sZWZ0Ow0KDQoJCQljdXJyZW50VG9wID0gY29tcG9uZW50Lm9mZnNldCgpLnRvcCArIHBhcnNlSW50KHByb3BlcnRpZXMucG9zaXRpb25Ub3AsIDApOw0KCQkJY3VycmVudExlZnQgPSBjb21wb25lbnQub2Zmc2V0KCkubGVmdCArIHBhcnNlSW50KHByb3BlcnRpZXMucG9zaXRpb25MZWZ0LCAwKTsNCgkJCXdpZHRoID0gcHJvcGVydGllcy53aWR0aCAtIDMwOyAvL21pbnVzIG5vdGUgcGFkZGluZw0KCQkJaGVpZ2h0ID0gcHJvcGVydGllcy5oZWlnaHQgLSAzNTsNCg0KCQkJJCgiYm9keSIpLmFwcGVuZChub3RlKTsNCgkJCWluc3QuZHJhd0NhbnZhcyhjb21wb25lbnQsIHByb3BlcnRpZXMpOw0KDQoJCQl2YXIgbWFya0NvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHsNCgkJCQljb21wb25lbnQuZmluZCgiLnN0aWNreW5vdGVzLWJhY2tncm91bmQiKS5jc3Moew0KCQkJCQkiYmFja2dyb3VuZCI6IHByb3BlcnRpZXMuY29sb3INCgkJCQl9KTsNCgkJCQlub3RlLmNzcyh7DQoJCQkJCSJiYWNrZ3JvdW5kIjogcHJvcGVydGllcy5jb2xvcg0KCQkJCX0pOw0KCQkJfTsNCgkJCW1hcmtDb21wb25lbnQoKTsNCg0KCQkJaWYgKHdpZHRoID4gMCkgew0KCQkJCSQobm90ZSkuY3NzKHsNCgkJCQkJIndpZHRoIjogd2lkdGgNCgkJCQl9KTsNCgkJCX0NCg0KCQkJaWYgKGhlaWdodCA+IDApIHsNCgkJCQkkKG5vdGUpLmNzcyh7DQoJCQkJCSJoZWlnaHQiOiBoZWlnaHQNCgkJCQl9KTsNCgkJCX0NCg0KCQkJJChub3RlKS5jc3Moew0KCQkJCSJ0b3AiOiBjdXJyZW50VG9wLA0KCQkJCSJsZWZ0IjogY3VycmVudExlZnQNCgkJCX0pOw0KDQoJCQkkKG5vdGUpLnJlc2l6YWJsZSh7DQoJCQkgICAgaGVscGVyOiAidWktcmVzaXphYmxlLWhlbHBlciIsDQoJCQkgICAgc3RhcnQ6IGZ1bmN0aW9uIChldmVudCwgdWkpIHsNCgkJCSAgICAgICAgJCgnaWZyYW1lJykuY3NzKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7DQoJCQkgICAgfSwNCgkJCSAgICBzdG9wOiBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7DQoJCQkgICAgICAgICQoJ2lmcmFtZScpLmNzcygncG9pbnRlci1ldmVudHMnLCAnYXV0bycpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgbWluSGVpZ2h0OiBtaW5IZWlnaHQsDQogICAgICAgICAgICAgICAgbWluV2lkdGg6IG1pbldpZHRoDQoJCQl9KS5kcmFnZ2FibGUoKTsNCg0KCQkJJChub3RlKS5vbigiZHJhZ3N0b3AiLCBmdW5jdGlvbiAoZXZlbnQsIHVpKSB7DQoJCQkJaW5zdC51cGRhdGVIaWRkZW5GaWVsZCh7DQoJCQkJCSJwb3NpdGlvblRvcCI6IHVpLnBvc2l0aW9uLnRvcCAtIGNvbXBvbmVudC5vZmZzZXQoKS50b3AsDQoJCQkJCSJwb3NpdGlvbkxlZnQiOiB1aS5wb3NpdGlvbi5sZWZ0IC0gY29tcG9uZW50Lm9mZnNldCgpLmxlZnQNCgkJCQl9KTsNCgkJCX0pOw0KDQoJCQkkKG5vdGUpLm9uKCJyZXNpemVzdG9wIiwgZnVuY3Rpb24gKGV2ZW50LCB1aSkgew0KCQkJCWluc3QudXBkYXRlSGlkZGVuRmllbGQoew0KCQkJCQkid2lkdGgiOiB1aS5zaXplLndpZHRoLA0KCQkJCQkiaGVpZ2h0IjogdWkuc2l6ZS5oZWlnaHQNCgkJCQl9KTsNCgkJCX0pOw0KDQoJCQkkKG5vdGUpLmZpbmQoInRleHRhcmVhIikub24oImtleXVwIiwgZnVuY3Rpb24gKCkgew0KCQkJCXZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCksDQoJCQkJCWRheSA9IGN1cnJlbnREYXRlLmdldERhdGUoKSwNCgkJCQkJbW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSwNCgkJCQkJeWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCk7DQoNCgkJCQl2YXIgZGF0ZSA9IGRheSArICIvIiArIG1vbnRoICsgIi8iICsgeWVhcjsNCg0KCQkJCWluc3QudXBkYXRlSGlkZGVuRmllbGQoew0KCQkJCQkidGV4dCI6ICQodGhpcykudmFsKCksDQoJCQkJCSJkYXRlIjogZGF0ZQ0KCQkJCX0pOw0KDQoJCQkJJCh0aGlzKS5wYXJlbnQoKS5maW5kKCIuZGF0ZSIpLmh0bWwoZGF0ZSk7DQoJCQl9KTsNCg0KCQkJJChub3RlKS5maW5kKCIubWluaW1hbGl6ZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsNCgkJCQkkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCJoaWRlIik7DQoJCQl9KTsNCg0KCQkJJChub3RlKS5maW5kKCIuZHJhd2luZy1jb250cm9sIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgew0KCQkJCXZhciBjb2xvckluZGV4ID0gXy5pbmRleE9mKGNvbG9ycywgcHJvcGVydGllcy5jb2xvcik7DQoJCQkJaWYgKGNvbG9ySW5kZXggPT09IChjb2xvcnMubGVuZ3RoIC0gMSkpIHsNCgkJCQkJY29sb3JJbmRleCA9IDA7DQoJCQkJfQ0KCQkJCWVsc2Ugew0KCQkJCQljb2xvckluZGV4Kys7DQoJCQkJfQ0KCQkJCXByb3BlcnRpZXMuY29sb3IgPSBjb2xvcnNbY29sb3JJbmRleF07DQoNCgkJCQkkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLmNzcyh7DQoJCQkJCSJiYWNrZ3JvdW5kIjogcHJvcGVydGllcy5jb2xvcg0KCQkJCX0pOw0KDQoJCQkJaW5zdC5jb21wb25lbnQuZmluZCgiLnN0aWNreW5vdGVzLWJhY2tncm91bmQiKS5jc3Moew0KCQkJCQkiYmFja2dyb3VuZCI6IHByb3BlcnRpZXMuY29sb3INCgkJCQl9KTsNCg0KCQkJCWluc3QudXBkYXRlSGlkZGVuRmllbGQoew0KCQkJCQkiY29sb3IiOiBwcm9wZXJ0aWVzLmNvbG9yDQoJCQkJfSk7DQoJCQl9KTsNCg0KCQkJJChub3RlKS5maW5kKCIuc2VhcmNoIikub24oImNsaWNrIiwgZnVuY3Rpb24gKCkgew0KCQkJICAgIGlmIChpbnN0LmhpZ2hsaXRlZCkgew0KCQkJICAgICAgICBpbnN0LmhpZ2hsaXRlZCA9IGZhbHNlOw0KCQkJICAgIH0gZWxzZSB7DQoJCQkgICAgICAgIGluc3QuaGlnaGxpdGVkID0gdHJ1ZTsNCgkJCSAgICB9DQoNCgkJCSAgICBpbnN0LmNvbXBvbmVudC5maW5kKCIuc3RpY2t5bm90ZXMtY2FudmFzLCAuc3RpY2t5bm90ZXMtYmFja2dyb3VuZCIpLnRvZ2dsZSgpOw0KCQkJfSk7DQoNCgkJCSQobm90ZSkuZmluZCgiLmRlbGV0ZSIpLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsNCgkJCQlpbnN0LmRlbGV0ZU5vdGUobm90ZSk7DQoJCQl9KTsNCg0KCQkJd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHsNCgkJCQl2YXIgbm90ZVBvc2l0aW9uVG9wID0gcGFyc2VJbnQoJChub3RlKS5jc3MoInRvcCIpLCAwKSwNCgkJCQkJbm90ZVBvc2l0aW9uTGVmdCA9IHBhcnNlSW50KCQobm90ZSkuY3NzKCJsZWZ0IiksIDApOw0KDQoJCQkJJChub3RlKS5jc3Moew0KCQkJCQkidG9wIjogbm90ZVBvc2l0aW9uVG9wICsgKCQoY29tcG9uZW50KS5vZmZzZXQoKS50b3AgLSBjb21wb25lbnRPZmZzZXRUb3ApIC0gcmliYm9uSGVpZ2h0LA0KCQkJCQkibGVmdCI6IG5vdGVQb3NpdGlvbkxlZnQgKyAoJChjb21wb25lbnQpLm9mZnNldCgpLmxlZnQgLSBjb21wb25lbnRPZmZzZXRMZWZ0KQ0KCQkJCX0pOw0KCQkJCWNvbXBvbmVudE9mZnNldFRvcCA9ICQoY29tcG9uZW50KS5vZmZzZXQoKS50b3AgLSByaWJib25IZWlnaHQ7DQoJCQkJY29tcG9uZW50T2Zmc2V0TGVmdCA9ICQoY29tcG9uZW50KS5vZmZzZXQoKS5sZWZ0Ow0KDQoJCQl9KTsNCg0KCQl9Ow0KDQoJCVN0aWNreU5vdGUucHJvdG90eXBlLnVwZGF0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHByb3BlcnRpZXMpIHsNCgkJICAgIHZhciBpbnN0ID0gdGhpczsNCgkJICAgIGluc3QuY29tcG9uZW50ID0gY29tcG9uZW50Ow0KCQkgICAgaW5zdC5kcmF3Q2FudmFzKGluc3QuY29tcG9uZW50LCBpbnN0LnByb3BlcnRpZXMpOw0KCQkgICAgaWYgKGluc3QuaGlnaGxpdGVkKSB7DQoJCSAgICAgICAgaW5zdC5jb21wb25lbnQuZmluZCgiLnN0aWNreW5vdGVzLWNhbnZhcywgLnN0aWNreW5vdGVzLWJhY2tncm91bmQiKS5zaG93KCk7DQoJCSAgICB9DQoJCX0NCg0KDQoJCVN0aWNreU5vdGUucHJvdG90eXBlLmRyYXdDYW52YXMgPSBmdW5jdGlvbiAoY29tcG9uZW50LCBwcm9wZXJ0aWVzKSB7DQoJCQl2YXIgaW5zdCA9IHRoaXMsDQoJCQkJY2FudmFzID0gJCgiPGNhbnZhcyBjbGFzcz0nc3RpY2t5bm90ZXMtY2FudmFzJz48L2NhbnZhcz4iKSwNCgkJCQliYWNrZ3JvdW5kID0gJCgiPGRpdiBjbGFzcz0nc3RpY2t5bm90ZXMtYmFja2dyb3VuZCc+PC9kaXY+Iik7DQoJCSAgICBiYWNrZ3JvdW5kLmNzcyh7ICJiYWNrZ3JvdW5kIjogcHJvcGVydGllcy5jb2xvciB9KTsNCg0KCQkJJChjb21wb25lbnQpLmFwcGVuZChiYWNrZ3JvdW5kKTsNCgkJCSQoY29tcG9uZW50KS5hcHBlbmQoY2FudmFzKTsNCg0KCQkJdmFyIGNudiA9IGNhbnZhcy5nZXQoMCksDQoJCQkJY29tcG9uZW50TGVmdCA9IGNvbXBvbmVudC5vZmZzZXQoKS5sZWZ0LA0KCQkJCWNvbXBvbmVudFRvcCA9IGNvbXBvbmVudC5vZmZzZXQoKS50b3AsDQoJCQkJY3R4ID0gY252LmdldENvbnRleHQoIjJkIik7DQoNCgkJCS8qY252LndpZHRoID0gY29tcG9uZW50LndpZHRoKCk7DQoJCQkgY252LmhlaWdodCA9IGNvbXBvbmVudC5oZWlnaHQoKTsNCgkJCSBiYWNrZ3JvdW5kLmNzcyh7DQoJCQkgIndpZHRoIjogY29tcG9uZW50LndpZHRoKCksDQoJCQkgImhlaWdodCI6IGNvbXBvbmVudC5oZWlnaHQoKQ0KCQkJIH0pOyovDQoNCgkJCXZhciBsb2FkRGF0YVVybCA9IGZ1bmN0aW9uICgpIHsNCgkJCQl2YXIgaW1nID0gbmV3IEltYWdlKCk7DQoJCQkJaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsNCgkJCQkJY3R4LmRyYXdJbWFnZShpbWcsIDAsIDApOyAvLyBPciBhdCB3aGF0ZXZlciBvZmZzZXQgeW91IGxpa2UNCgkJCQl9Ow0KCQkJCWltZy5zcmMgPSBwcm9wZXJ0aWVzLmNhbnZhc0NvbnRlbnQ7DQoJCQl9Ow0KCQkJbG9hZERhdGFVcmwoKTsNCg0KCQkJdmFyIGRyYXdMaW5lcyA9IGZ1bmN0aW9uICgpIHsNCgkJCQljYW52YXMub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uIChldkRvd24pIHsNCgkJCQkJY3R4LmJlZ2luUGF0aCgpOw0KCQkJCQljdHguYXJjKGV2RG93bi5wYWdlWCwgZXZEb3duLnBhZ2VZLCAxMCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpOw0KCQkJCQljdHguZmlsbFN0eWxlID0gJ2dyZWVuJzsNCgkJCQkJY3R4LmZpbGwoKTsNCg0KCQkJCQkkKHRoaXMpLm9uKCJtb3VzZW1vdmUiLCBmdW5jdGlvbiAoZXYpIHsNCgkJCQkJCXZhciBjdXJyZW50WCA9IGV2LnBhZ2VYIC0gY29tcG9uZW50TGVmdCwNCgkJCQkJCQljdXJyZW50WSA9IGV2LnBhZ2VZIC0gY29tcG9uZW50VG9wOw0KDQoJCQkJCQljdHguYmVnaW5QYXRoKCk7DQoJCQkJCQljdHguYXJjKGV2RG93bi5wYWdlWCwgZXZEb3duLnBhZ2VZLCAxMCwgMCwgTWF0aC5QSSAqIDIsIHRydWUpOw0KCQkJCQkJY3R4LmZpbGxTdHlsZSA9ICdncmVlbic7DQoJCQkJCQljdHguZmlsbCgpOw0KCQkJCQl9KTsNCgkJCQl9KTsNCg0KCQkJCWNhbnZhcy5vbigibW91c2V1cCIsIGZ1bmN0aW9uICgpIHsNCgkJCQkJJCh0aGlzKS51bmJpbmQoIm1vdXNlbW92ZSIpOw0KCQkJCQlpbnN0LnVwZGF0ZUhpZGRlbkZpZWxkKHsNCgkJCQkJCSJjYW52YXNDb250ZW50IjogY252LnRvRGF0YVVSTCgiaW1hZ2UvcG5nO2Jhc2U2NCIpDQoJCQkJCX0pOw0KCQkJCX0pOw0KDQoJCQkJY2FudmFzLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24gKCkgew0KCQkJCQkkKHRoaXMpLnVuYmluZCgibW91c2Vtb3ZlIik7DQoJCQkJfSk7DQoJCQl9Ow0KDQoJCQlkcmF3TGluZXMoY252LCBjYW52YXMpOw0KCQl9Ow0KDQoJCXB1Yi5pbml0ID0gZnVuY3Rpb24gKHNob3dTdGlja3lOb3Rlcykgew0KCQkJdmFyIHN0aWNreW5vdGVzTGlzdE9iaiwNCgkJCQlpbml0T2JqID0geyJpdGVtcyI6IFtdfTsNCg0KCQkJLy9zdGlja3lub3Rlc3MgdmlzaWJsZSBvbmx5IG9uIHBhZ2UgZWRpdG9yDQoJCQlpZiAoISQoImJvZHkiKS5oYXNDbGFzcygib24tcGFnZS1lZGl0b3IiKSB8fCAhc2hvd1N0aWNreU5vdGVzKSB7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfQ0KDQoJCQkkLmVhY2goJCgiaW5wdXQiKSwgZnVuY3Rpb24gKGksIGl0ZW0pIHsNCgkJCQlpZiAoaXRlbS5pZC5tYXRjaCgvNEMyRjIyMUY5NDI2NDVFRDlFRUJDNzlCQjMxNjk1NjUvZykpIHsNCgkJCQkJc3RpY2t5bm90ZXNMaXN0ID0gJChpdGVtKTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJaWYgKHN0aWNreW5vdGVzTGlzdCA9PT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybigiTGF5b3V0IGlzIG1pc3NpbmcgU3RpY2t5Tm90ZSBtZXRhIGNvbXBvbmVudCIpOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0NCg0KCQkJaWYgKCFzdGlja3lub3Rlc0xpc3QudmFsKCkubGVuZ3RoKSB7DQoJCQkJc3RpY2t5bm90ZXNMaXN0LnZhbChKU09OLnN0cmluZ2lmeShpbml0T2JqKSk7DQoJCQl9IGVsc2Ugew0KCQkJCXN0aWNreW5vdGVzTGlzdE9iaiA9IEpTT04ucGFyc2Uoc3RpY2t5bm90ZXNMaXN0LnZhbCgpKTsNCg0KCQkJCXZhciBpdGVtc1RvQ2xlYW4gPSBbXTsNCgkJCQkkLmVhY2goc3RpY2t5bm90ZXNMaXN0T2JqLml0ZW1zLCBmdW5jdGlvbiAoaSwgaXRlbSkgew0KCQkJCQlpZiAoaXRlbS5oYXNPd25Qcm9wZXJ0eSgiaWQiKSkgew0KCQkJCQkJaWYgKCQoIiMiICsgaXRlbS5pZCkubGVuZ3RoKSB7DQoJCQkJCQkgICAgdmFyIHN0aWNreW5vdGVzID0gbmV3IFN0aWNreU5vdGUoaXRlbS5pZCwgZmFsc2UsIGl0ZW0ucHJvcGVydGllcy51c2VyTmFtZSk7DQoJCQkJCQkgICAgbm90ZXMucHVzaChzdGlja3lub3Rlcyk7DQoJCQkJCQkgICAgc3RpY2t5bm90ZXMudW5oaWRlKCk7DQoJCQkJCQkJc3RpY2t5bm90ZXMuZ2V0UHJvcGVydGllcygpOw0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQlpdGVtc1RvQ2xlYW4ucHVzaChpKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQkJaXRlbXNUb0NsZWFuLnJldmVyc2UoKTsNCgkJCQkkLmVhY2goaXRlbXNUb0NsZWFuLCBmdW5jdGlvbiAoaSwgaXRlbSkgew0KCQkJCQlzdGlja3lub3Rlc0xpc3RPYmouaXRlbXMuc3BsaWNlKGl0ZW0sIDEpOw0KCQkJCX0pOw0KDQoJCQkJc3RpY2t5bm90ZXNMaXN0LnZhbChKU09OLnN0cmluZ2lmeShzdGlja3lub3Rlc0xpc3RPYmopKTsNCgkJCX0NCg0KCQkgICAgU2l0ZWNvcmUuUGFnZU1vZGVzLkNocm9tZU1hbmFnZXIuY2hyb21lc1Jlc2V0ZWQub2JzZXJ2ZSh0aGlzLnJlZnJlc2gpOw0KCQl9Ow0KDQogICAgICAgIHB1Yi5yZWZyZXNoID0gZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAkeGEuc3RpY2t5bm90ZXMucmVzZXQoKTsNCiAgICAgICAgfTsNCg0KICAgICAgICBwdWIucmVzZXQgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBzID0gc3RpY2t5bm90ZXNMaXN0LA0KICAgICAgICAgICAgICAgIG5vdGUgPSBub3RlcywNCiAgICAgICAgICAgICAgICBjaHJvbWVzID0gU2l0ZWNvcmUuUGFnZU1vZGVzLkNocm9tZU1hbmFnZXIuY2hyb21lcygpOw0KDQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNocm9tZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgY2hyb21lID0gY2hyb21lc1tpXSwNCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5naWQgPSBjaHJvbWUuX29yaWdpbmFsRE9NRWxlbWVudFswXS5pZDsNCg0KICAgICAgICAgICAgICAgIGlmIChyZW5kZXJpbmdpZCAhPSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBub3Rlcy5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSA9IG5vdGVzW2pdOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdGUuaWQgPT0gcmVuZGVyaW5naWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlLnVwZGF0ZUNvbXBvbmVudCgkKGNocm9tZS5lbGVtZW50KSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCg0KCQlwdWIuYWRkID0gZnVuY3Rpb24gKHN0aWNreU5vdGVJZCwgdXNlck5hbWUpIHsNCgkJCXZhciBzdGlja3lub3Rlc0xpc3RPYmosIG5vdGVFeGlzdHMgPSBmYWxzZTsNCg0KCQkJaWYgKHN0aWNreW5vdGVzTGlzdCA9PT0gbnVsbCkgew0KCQkJICAgIHJldHVybiBmYWxzZTsNCgkJCX0NCg0KCQkgICAgc3RpY2t5bm90ZXNMaXN0T2JqID0gSlNPTi5wYXJzZShzdGlja3lub3Rlc0xpc3QudmFsKCkpOw0KDQoJCQkkLmVhY2goc3RpY2t5bm90ZXNMaXN0T2JqLml0ZW1zLCBmdW5jdGlvbiAoaSwgaXRlbSkgew0KCQkJCWlmIChpdGVtLmlkID09PSBzdGlja3lOb3RlSWQpIHsNCgkJCQkJbm90ZUV4aXN0cyA9IHRydWU7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCWlmIChub3RlRXhpc3RzKSB7DQoJCQkJdmFyIGNvbXBvbmVudCA9ICQoIiMiICsgc3RpY2t5Tm90ZUlkKS5uZXh0KCksDQoJCQkJCW5vdGUgPSAkKCIuc3RpY2t5bm90ZXNbZGF0YS1pZD0nIiArIHN0aWNreU5vdGVJZCArICInXSIpLA0KCQkJCQljb3JkcyA9IHt9Ow0KDQoJCQkJaWYgKCFjb21wb25lbnQuaGFzQ2xhc3MoImNvbXBvbmVudCIpKSB7DQoJCQkJCWNvbXBvbmVudCA9IGNvbXBvbmVudC5maW5kKCIuY29tcG9uZW50Iik7DQoJCQkJfQ0KDQoJCQkJbm90ZS5jc3Moew0KCQkJCQkidG9wIjogY29tcG9uZW50Lm9mZnNldCgpLnRvcCwNCgkJCQkJImxlZnQiOiBjb21wb25lbnQub2Zmc2V0KCkubGVmdA0KCQkJCX0pOw0KDQoJCQkJY29yZHMucG9zaXRpb24gPSB7DQoJCQkJCSJ0b3AiOiBjb21wb25lbnQub2Zmc2V0KCkudG9wLA0KCQkJCQkibGVmdCI6IGNvbXBvbmVudC5vZmZzZXQoKS5sZWZ0DQoJCQkJfTsNCgkJCQlub3RlLnRyaWdnZXIoImRyYWdzdG9wIiwgY29yZHMpOw0KDQoJCQl9IGVsc2Ugew0KCQkJICAgIHZhciBzdGlja3lub3RlcyA9IG5ldyBTdGlja3lOb3RlKHN0aWNreU5vdGVJZCwgdHJ1ZSwgdXNlck5hbWUpOw0KCQkJICAgIHN0aWNreW5vdGVzLmdldFByb3BlcnRpZXMoKTsNCgkJCSAgICBub3Rlcy5wdXNoKHN0aWNreW5vdGVzKTsNCgkJCX0NCgkJfTsNCg0KCQlwdWIucmVtb3ZlID0gZnVuY3Rpb24gKCkgew0KCQkgICAgdmFyIHN0aWNreW5vdGVzID0gJCgnLnN0aWNreW5vdGVzJyk7DQoJCQlzdGlja3lub3Rlcy5oaWRlKCk7DQoJCX07DQoNCgkJcmV0dXJuIHB1YjsNCgl9KCR4YSkpOw0KfQ0K
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 14025
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160509T085749Z
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "5ae8dfb8-289b-4ccf-a5e8-4b82775d5d48"
