---
ID: "397d12b4-865a-4e56-86be-2423bc750d7a"
Parent: "e3fbf2bd-14b5-439f-b488-478701f1bae1"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/Core Libraries/scripts/backbone-min"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/397D12B4865A4E5686BE2423BC750D7A.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "397d12b4-865a-4e56-86be-2423bc750d7a"
  Value: LyoqCkJhY2tib25lLkpTIDEuNC4xIG9uIEZlYiAyNiwgMjAyMgoqLyhmdW5jdGlvbihyKXt2YXIgbj10eXBlb2Ygc2VsZj09Im9iamVjdCImJnNlbGYuc2VsZj09PXNlbGYmJnNlbGZ8fHR5cGVvZiBnbG9iYWw9PSJvYmplY3QiJiZnbG9iYWwuZ2xvYmFsPT09Z2xvYmFsJiZnbG9iYWw7aWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbInVuZGVyc2NvcmUiLCJqcXVlcnkiLCJleHBvcnRzIl0sZnVuY3Rpb24odCxlLGkpe24uQmFja2JvbmU9cihuLGksdCxlKX0pfWVsc2UgaWYodHlwZW9mIGV4cG9ydHMhPT0idW5kZWZpbmVkIil7dmFyIHQ9cmVxdWlyZSgidW5kZXJzY29yZSIpLGU7dHJ5e2U9cmVxdWlyZSgianF1ZXJ5Iil9Y2F0Y2godCl7fXIobixleHBvcnRzLHQsZSl9ZWxzZXtuLkJhY2tib25lPXIobix7fSxuLl8sbi5qUXVlcnl8fG4uWmVwdG98fG4uZW5kZXJ8fG4uJCl9fSkoZnVuY3Rpb24odCxoLHgsZSl7dmFyIGk9dC5CYWNrYm9uZTt2YXIgYT1BcnJheS5wcm90b3R5cGUuc2xpY2U7aC5WRVJTSU9OPSIxLjQuMSI7aC4kPWU7aC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7dC5CYWNrYm9uZT1pO3JldHVybiB0aGlzfTtoLmVtdWxhdGVIVFRQPWZhbHNlO2guZW11bGF0ZUpTT049ZmFsc2U7dmFyIHI9aC5FdmVudHM9e307dmFyIG89L1xzKy87dmFyIGw7dmFyIHU9ZnVuY3Rpb24odCxlLGkscixuKXt2YXIgcz0wLGE7aWYoaSYmdHlwZW9mIGk9PT0ib2JqZWN0Iil7aWYociE9PXZvaWQgMCYmImNvbnRleHQiaW4gbiYmbi5jb250ZXh0PT09dm9pZCAwKW4uY29udGV4dD1yO2ZvcihhPXgua2V5cyhpKTtzPGEubGVuZ3RoO3MrKyl7ZT11KHQsZSxhW3NdLGlbYVtzXV0sbil9fWVsc2UgaWYoaSYmby50ZXN0KGkpKXtmb3IoYT1pLnNwbGl0KG8pO3M8YS5sZW5ndGg7cysrKXtlPXQoZSxhW3NdLHIsbil9fWVsc2V7ZT10KGUsaSxyLG4pfXJldHVybiBlfTtyLm9uPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9ldmVudHM9dShuLHRoaXMuX2V2ZW50c3x8e30sdCxlLHtjb250ZXh0OmksY3R4OnRoaXMsbGlzdGVuaW5nOmx9KTtpZihsKXt2YXIgcj10aGlzLl9saXN0ZW5lcnN8fCh0aGlzLl9saXN0ZW5lcnM9e30pO3JbbC5pZF09bDtsLmludGVyb3A9ZmFsc2V9cmV0dXJuIHRoaXN9O3IubGlzdGVuVG89ZnVuY3Rpb24odCxlLGkpe2lmKCF0KXJldHVybiB0aGlzO3ZhciByPXQuX2xpc3RlbklkfHwodC5fbGlzdGVuSWQ9eC51bmlxdWVJZCgibCIpKTt2YXIgbj10aGlzLl9saXN0ZW5pbmdUb3x8KHRoaXMuX2xpc3RlbmluZ1RvPXt9KTt2YXIgcz1sPW5bcl07aWYoIXMpe3RoaXMuX2xpc3RlbklkfHwodGhpcy5fbGlzdGVuSWQ9eC51bmlxdWVJZCgibCIpKTtzPWw9bltyXT1uZXcgcCh0aGlzLHQpfXZhciBhPWModCxlLGksdGhpcyk7bD12b2lkIDA7aWYoYSl0aHJvdyBhO2lmKHMuaW50ZXJvcClzLm9uKGUsaSk7cmV0dXJuIHRoaXN9O3ZhciBuPWZ1bmN0aW9uKHQsZSxpLHIpe2lmKGkpe3ZhciBuPXRbZV18fCh0W2VdPVtdKTt2YXIgcz1yLmNvbnRleHQsYT1yLmN0eCxvPXIubGlzdGVuaW5nO2lmKG8pby5jb3VudCsrO24ucHVzaCh7Y2FsbGJhY2s6aSxjb250ZXh0OnMsY3R4OnN8fGEsbGlzdGVuaW5nOm99KX1yZXR1cm4gdH07dmFyIGM9ZnVuY3Rpb24odCxlLGkscil7dHJ5e3Qub24oZSxpLHIpfWNhdGNoKHQpe3JldHVybiB0fX07ci5vZmY9ZnVuY3Rpb24odCxlLGkpe2lmKCF0aGlzLl9ldmVudHMpcmV0dXJuIHRoaXM7dGhpcy5fZXZlbnRzPXUocyx0aGlzLl9ldmVudHMsdCxlLHtjb250ZXh0OmksbGlzdGVuZXJzOnRoaXMuX2xpc3RlbmVyc30pO3JldHVybiB0aGlzfTtyLnN0b3BMaXN0ZW5pbmc9ZnVuY3Rpb24odCxlLGkpe3ZhciByPXRoaXMuX2xpc3RlbmluZ1RvO2lmKCFyKXJldHVybiB0aGlzO3ZhciBuPXQ/W3QuX2xpc3RlbklkXTp4LmtleXMocik7Zm9yKHZhciBzPTA7czxuLmxlbmd0aDtzKyspe3ZhciBhPXJbbltzXV07aWYoIWEpYnJlYWs7YS5vYmoub2ZmKGUsaSx0aGlzKTtpZihhLmludGVyb3ApYS5vZmYoZSxpKX1pZih4LmlzRW1wdHkocikpdGhpcy5fbGlzdGVuaW5nVG89dm9pZCAwO3JldHVybiB0aGlzfTt2YXIgcz1mdW5jdGlvbih0LGUsaSxyKXtpZighdClyZXR1cm47dmFyIG49ci5jb250ZXh0LHM9ci5saXN0ZW5lcnM7dmFyIGE9MCxvO2lmKCFlJiYhbiYmIWkpe2ZvcihvPXgua2V5cyhzKTthPG8ubGVuZ3RoO2ErKyl7c1tvW2FdXS5jbGVhbnVwKCl9cmV0dXJufW89ZT9bZV06eC5rZXlzKHQpO2Zvcig7YTxvLmxlbmd0aDthKyspe2U9b1thXTt2YXIgaD10W2VdO2lmKCFoKWJyZWFrO3ZhciBsPVtdO2Zvcih2YXIgdT0wO3U8aC5sZW5ndGg7dSsrKXt2YXIgYz1oW3VdO2lmKGkmJmkhPT1jLmNhbGxiYWNrJiZpIT09Yy5jYWxsYmFjay5fY2FsbGJhY2t8fG4mJm4hPT1jLmNvbnRleHQpe2wucHVzaChjKX1lbHNle3ZhciBmPWMubGlzdGVuaW5nO2lmKGYpZi5vZmYoZSxpKX19aWYobC5sZW5ndGgpe3RbZV09bH1lbHNle2RlbGV0ZSB0W2VdfX1yZXR1cm4gdH07ci5vbmNlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcj11KGYse30sdCxlLHRoaXMub2ZmLmJpbmQodGhpcykpO2lmKHR5cGVvZiB0PT09InN0cmluZyImJmk9PW51bGwpZT12b2lkIDA7cmV0dXJuIHRoaXMub24ocixlLGkpfTtyLmxpc3RlblRvT25jZT1mdW5jdGlvbih0LGUsaSl7dmFyIHI9dShmLHt9LGUsaSx0aGlzLnN0b3BMaXN0ZW5pbmcuYmluZCh0aGlzLHQpKTtyZXR1cm4gdGhpcy5saXN0ZW5Ubyh0LHIpfTt2YXIgZj1mdW5jdGlvbih0LGUsaSxyKXtpZihpKXt2YXIgbj10W2VdPXgub25jZShmdW5jdGlvbigpe3IoZSxuKTtpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pO24uX2NhbGxiYWNrPWl9cmV0dXJuIHR9O3IudHJpZ2dlcj1mdW5jdGlvbih0KXtpZighdGhpcy5fZXZlbnRzKXJldHVybiB0aGlzO3ZhciBlPU1hdGgubWF4KDAsYXJndW1lbnRzLmxlbmd0aC0xKTt2YXIgaT1BcnJheShlKTtmb3IodmFyIHI9MDtyPGU7cisrKWlbcl09YXJndW1lbnRzW3IrMV07dShkLHRoaXMuX2V2ZW50cyx0LHZvaWQgMCxpKTtyZXR1cm4gdGhpc307dmFyIGQ9ZnVuY3Rpb24odCxlLGkscil7aWYodCl7dmFyIG49dFtlXTt2YXIgcz10LmFsbDtpZihuJiZzKXM9cy5zbGljZSgpO2lmKG4pdihuLHIpO2lmKHMpdihzLFtlXS5jb25jYXQocikpfXJldHVybiB0fTt2YXIgdj1mdW5jdGlvbih0LGUpe3ZhciBpLHI9LTEsbj10Lmxlbmd0aCxzPWVbMF0sYT1lWzFdLG89ZVsyXTtzd2l0Y2goZS5sZW5ndGgpe2Nhc2UgMDp3aGlsZSgrK3I8bikoaT10W3JdKS5jYWxsYmFjay5jYWxsKGkuY3R4KTtyZXR1cm47Y2FzZSAxOndoaWxlKCsrcjxuKShpPXRbcl0pLmNhbGxiYWNrLmNhbGwoaS5jdHgscyk7cmV0dXJuO2Nhc2UgMjp3aGlsZSgrK3I8bikoaT10W3JdKS5jYWxsYmFjay5jYWxsKGkuY3R4LHMsYSk7cmV0dXJuO2Nhc2UgMzp3aGlsZSgrK3I8bikoaT10W3JdKS5jYWxsYmFjay5jYWxsKGkuY3R4LHMsYSxvKTtyZXR1cm47ZGVmYXVsdDp3aGlsZSgrK3I8bikoaT10W3JdKS5jYWxsYmFjay5hcHBseShpLmN0eCxlKTtyZXR1cm59fTt2YXIgcD1mdW5jdGlvbih0LGUpe3RoaXMuaWQ9dC5fbGlzdGVuSWQ7dGhpcy5saXN0ZW5lcj10O3RoaXMub2JqPWU7dGhpcy5pbnRlcm9wPXRydWU7dGhpcy5jb3VudD0wO3RoaXMuX2V2ZW50cz12b2lkIDB9O3AucHJvdG90eXBlLm9uPXIub247cC5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKHQsZSl7dmFyIGk7aWYodGhpcy5pbnRlcm9wKXt0aGlzLl9ldmVudHM9dShzLHRoaXMuX2V2ZW50cyx0LGUse2NvbnRleHQ6dm9pZCAwLGxpc3RlbmVyczp2b2lkIDB9KTtpPSF0aGlzLl9ldmVudHN9ZWxzZXt0aGlzLmNvdW50LS07aT10aGlzLmNvdW50PT09MH1pZihpKXRoaXMuY2xlYW51cCgpfTtwLnByb3RvdHlwZS5jbGVhbnVwPWZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMubGlzdGVuZXIuX2xpc3RlbmluZ1RvW3RoaXMub2JqLl9saXN0ZW5JZF07aWYoIXRoaXMuaW50ZXJvcClkZWxldGUgdGhpcy5vYmouX2xpc3RlbmVyc1t0aGlzLmlkXX07ci5iaW5kPXIub247ci51bmJpbmQ9ci5vZmY7eC5leHRlbmQoaCxyKTt2YXIgZz1oLk1vZGVsPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dHx8e307ZXx8KGU9e30pO3RoaXMucHJlaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5jaWQ9eC51bmlxdWVJZCh0aGlzLmNpZFByZWZpeCk7dGhpcy5hdHRyaWJ1dGVzPXt9O2lmKGUuY29sbGVjdGlvbil0aGlzLmNvbGxlY3Rpb249ZS5jb2xsZWN0aW9uO2lmKGUucGFyc2UpaT10aGlzLnBhcnNlKGksZSl8fHt9O3ZhciByPXgucmVzdWx0KHRoaXMsImRlZmF1bHRzIik7aT14LmRlZmF1bHRzKHguZXh0ZW5kKHt9LHIsaSkscik7dGhpcy5zZXQoaSxlKTt0aGlzLmNoYW5nZWQ9e307dGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07eC5leHRlbmQoZy5wcm90b3R5cGUscix7Y2hhbmdlZDpudWxsLHZhbGlkYXRpb25FcnJvcjpudWxsLGlkQXR0cmlidXRlOiJpZCIsY2lkUHJlZml4OiJjIixwcmVpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSx0b0pTT046ZnVuY3Rpb24odCl7cmV0dXJuIHguY2xvbmUodGhpcy5hdHRyaWJ1dGVzKX0sc3luYzpmdW5jdGlvbigpe3JldHVybiBoLnN5bmMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1t0XX0sZXNjYXBlOmZ1bmN0aW9uKHQpe3JldHVybiB4LmVzY2FwZSh0aGlzLmdldCh0KSl9LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXQodCkhPW51bGx9LG1hdGNoZXM6ZnVuY3Rpb24odCl7cmV0dXJuISF4Lml0ZXJhdGVlKHQsdGhpcykodGhpcy5hdHRyaWJ1dGVzKX0sc2V0OmZ1bmN0aW9uKHQsZSxpKXtpZih0PT1udWxsKXJldHVybiB0aGlzO3ZhciByO2lmKHR5cGVvZiB0PT09Im9iamVjdCIpe3I9dDtpPWV9ZWxzZXsocj17fSlbdF09ZX1pfHwoaT17fSk7aWYoIXRoaXMuX3ZhbGlkYXRlKHIsaSkpcmV0dXJuIGZhbHNlO3ZhciBuPWkudW5zZXQ7dmFyIHM9aS5zaWxlbnQ7dmFyIGE9W107dmFyIG89dGhpcy5fY2hhbmdpbmc7dGhpcy5fY2hhbmdpbmc9dHJ1ZTtpZighbyl7dGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzPXguY2xvbmUodGhpcy5hdHRyaWJ1dGVzKTt0aGlzLmNoYW5nZWQ9e319dmFyIGg9dGhpcy5hdHRyaWJ1dGVzO3ZhciBsPXRoaXMuY2hhbmdlZDt2YXIgdT10aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXM7Zm9yKHZhciBjIGluIHIpe2U9cltjXTtpZigheC5pc0VxdWFsKGhbY10sZSkpYS5wdXNoKGMpO2lmKCF4LmlzRXF1YWwodVtjXSxlKSl7bFtjXT1lfWVsc2V7ZGVsZXRlIGxbY119bj9kZWxldGUgaFtjXTpoW2NdPWV9aWYodGhpcy5pZEF0dHJpYnV0ZSBpbiByKXt2YXIgZj10aGlzLmlkO3RoaXMuaWQ9dGhpcy5nZXQodGhpcy5pZEF0dHJpYnV0ZSk7dGhpcy50cmlnZ2VyKCJjaGFuZ2VJZCIsdGhpcyxmLGkpfWlmKCFzKXtpZihhLmxlbmd0aCl0aGlzLl9wZW5kaW5nPWk7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspe3RoaXMudHJpZ2dlcigiY2hhbmdlOiIrYVtkXSx0aGlzLGhbYVtkXV0saSl9fWlmKG8pcmV0dXJuIHRoaXM7aWYoIXMpe3doaWxlKHRoaXMuX3BlbmRpbmcpe2k9dGhpcy5fcGVuZGluZzt0aGlzLl9wZW5kaW5nPWZhbHNlO3RoaXMudHJpZ2dlcigiY2hhbmdlIix0aGlzLGkpfX10aGlzLl9wZW5kaW5nPWZhbHNlO3RoaXMuX2NoYW5naW5nPWZhbHNlO3JldHVybiB0aGlzfSx1bnNldDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnNldCh0LHZvaWQgMCx4LmV4dGVuZCh7fSxlLHt1bnNldDp0cnVlfSkpfSxjbGVhcjpmdW5jdGlvbih0KXt2YXIgZT17fTtmb3IodmFyIGkgaW4gdGhpcy5hdHRyaWJ1dGVzKWVbaV09dm9pZCAwO3JldHVybiB0aGlzLnNldChlLHguZXh0ZW5kKHt9LHQse3Vuc2V0OnRydWV9KSl9LGhhc0NoYW5nZWQ6ZnVuY3Rpb24odCl7aWYodD09bnVsbClyZXR1cm4heC5pc0VtcHR5KHRoaXMuY2hhbmdlZCk7cmV0dXJuIHguaGFzKHRoaXMuY2hhbmdlZCx0KX0sY2hhbmdlZEF0dHJpYnV0ZXM6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIHRoaXMuaGFzQ2hhbmdlZCgpP3guY2xvbmUodGhpcy5jaGFuZ2VkKTpmYWxzZTt2YXIgZT10aGlzLl9jaGFuZ2luZz90aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXM6dGhpcy5hdHRyaWJ1dGVzO3ZhciBpPXt9O3ZhciByO2Zvcih2YXIgbiBpbiB0KXt2YXIgcz10W25dO2lmKHguaXNFcXVhbChlW25dLHMpKWNvbnRpbnVlO2lbbl09cztyPXRydWV9cmV0dXJuIHI/aTpmYWxzZX0scHJldmlvdXM6ZnVuY3Rpb24odCl7aWYodD09bnVsbHx8IXRoaXMuX3ByZXZpb3VzQXR0cmlidXRlcylyZXR1cm4gbnVsbDtyZXR1cm4gdGhpcy5fcHJldmlvdXNBdHRyaWJ1dGVzW3RdfSxwcmV2aW91c0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXtyZXR1cm4geC5jbG9uZSh0aGlzLl9wcmV2aW91c0F0dHJpYnV0ZXMpfSxmZXRjaDpmdW5jdGlvbihpKXtpPXguZXh0ZW5kKHtwYXJzZTp0cnVlfSxpKTt2YXIgcj10aGlzO3ZhciBuPWkuc3VjY2VzcztpLnN1Y2Nlc3M9ZnVuY3Rpb24odCl7dmFyIGU9aS5wYXJzZT9yLnBhcnNlKHQsaSk6dDtpZighci5zZXQoZSxpKSlyZXR1cm4gZmFsc2U7aWYobiluLmNhbGwoaS5jb250ZXh0LHIsdCxpKTtyLnRyaWdnZXIoInN5bmMiLHIsdCxpKX07Ryh0aGlzLGkpO3JldHVybiB0aGlzLnN5bmMoInJlYWQiLHRoaXMsaSl9LHNhdmU6ZnVuY3Rpb24odCxlLGkpe3ZhciByO2lmKHQ9PW51bGx8fHR5cGVvZiB0PT09Im9iamVjdCIpe3I9dDtpPWV9ZWxzZXsocj17fSlbdF09ZX1pPXguZXh0ZW5kKHt2YWxpZGF0ZTp0cnVlLHBhcnNlOnRydWV9LGkpO3ZhciBuPWkud2FpdDtpZihyJiYhbil7aWYoIXRoaXMuc2V0KHIsaSkpcmV0dXJuIGZhbHNlfWVsc2UgaWYoIXRoaXMuX3ZhbGlkYXRlKHIsaSkpe3JldHVybiBmYWxzZX12YXIgcz10aGlzO3ZhciBhPWkuc3VjY2Vzczt2YXIgbz10aGlzLmF0dHJpYnV0ZXM7aS5zdWNjZXNzPWZ1bmN0aW9uKHQpe3MuYXR0cmlidXRlcz1vO3ZhciBlPWkucGFyc2U/cy5wYXJzZSh0LGkpOnQ7aWYobillPXguZXh0ZW5kKHt9LHIsZSk7aWYoZSYmIXMuc2V0KGUsaSkpcmV0dXJuIGZhbHNlO2lmKGEpYS5jYWxsKGkuY29udGV4dCxzLHQsaSk7cy50cmlnZ2VyKCJzeW5jIixzLHQsaSl9O0codGhpcyxpKTtpZihyJiZuKXRoaXMuYXR0cmlidXRlcz14LmV4dGVuZCh7fSxvLHIpO3ZhciBoPXRoaXMuaXNOZXcoKT8iY3JlYXRlIjppLnBhdGNoPyJwYXRjaCI6InVwZGF0ZSI7aWYoaD09PSJwYXRjaCImJiFpLmF0dHJzKWkuYXR0cnM9cjt2YXIgbD10aGlzLnN5bmMoaCx0aGlzLGkpO3RoaXMuYXR0cmlidXRlcz1vO3JldHVybiBsfSxkZXN0cm95OmZ1bmN0aW9uKGUpe2U9ZT94LmNsb25lKGUpOnt9O3ZhciBpPXRoaXM7dmFyIHI9ZS5zdWNjZXNzO3ZhciBuPWUud2FpdDt2YXIgcz1mdW5jdGlvbigpe2kuc3RvcExpc3RlbmluZygpO2kudHJpZ2dlcigiZGVzdHJveSIsaSxpLmNvbGxlY3Rpb24sZSl9O2Uuc3VjY2Vzcz1mdW5jdGlvbih0KXtpZihuKXMoKTtpZihyKXIuY2FsbChlLmNvbnRleHQsaSx0LGUpO2lmKCFpLmlzTmV3KCkpaS50cmlnZ2VyKCJzeW5jIixpLHQsZSl9O3ZhciB0PWZhbHNlO2lmKHRoaXMuaXNOZXcoKSl7eC5kZWZlcihlLnN1Y2Nlc3MpfWVsc2V7Ryh0aGlzLGUpO3Q9dGhpcy5zeW5jKCJkZWxldGUiLHRoaXMsZSl9aWYoIW4pcygpO3JldHVybiB0fSx1cmw6ZnVuY3Rpb24oKXt2YXIgdD14LnJlc3VsdCh0aGlzLCJ1cmxSb290Iil8fHgucmVzdWx0KHRoaXMuY29sbGVjdGlvbiwidXJsIil8fFYoKTtpZih0aGlzLmlzTmV3KCkpcmV0dXJuIHQ7dmFyIGU9dGhpcy5nZXQodGhpcy5pZEF0dHJpYnV0ZSk7cmV0dXJuIHQucmVwbGFjZSgvW15cL10kLywiJCYvIikrZW5jb2RlVVJJQ29tcG9uZW50KGUpfSxwYXJzZTpmdW5jdGlvbih0LGUpe3JldHVybiB0fSxjbG9uZTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmF0dHJpYnV0ZXMpfSxpc05ldzpmdW5jdGlvbigpe3JldHVybiF0aGlzLmhhcyh0aGlzLmlkQXR0cmlidXRlKX0saXNWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdmFsaWRhdGUoe30seC5leHRlbmQoe30sdCx7dmFsaWRhdGU6dHJ1ZX0pKX0sX3ZhbGlkYXRlOmZ1bmN0aW9uKHQsZSl7aWYoIWUudmFsaWRhdGV8fCF0aGlzLnZhbGlkYXRlKXJldHVybiB0cnVlO3Q9eC5leHRlbmQoe30sdGhpcy5hdHRyaWJ1dGVzLHQpO3ZhciBpPXRoaXMudmFsaWRhdGlvbkVycm9yPXRoaXMudmFsaWRhdGUodCxlKXx8bnVsbDtpZighaSlyZXR1cm4gdHJ1ZTt0aGlzLnRyaWdnZXIoImludmFsaWQiLHRoaXMsaSx4LmV4dGVuZChlLHt2YWxpZGF0aW9uRXJyb3I6aX0pKTtyZXR1cm4gZmFsc2V9fSk7dmFyIG09aC5Db2xsZWN0aW9uPWZ1bmN0aW9uKHQsZSl7ZXx8KGU9e30pO3RoaXMucHJlaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoZS5tb2RlbCl0aGlzLm1vZGVsPWUubW9kZWw7aWYoZS5jb21wYXJhdG9yIT09dm9pZCAwKXRoaXMuY29tcGFyYXRvcj1lLmNvbXBhcmF0b3I7dGhpcy5fcmVzZXQoKTt0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHQpdGhpcy5yZXNldCh0LHguZXh0ZW5kKHtzaWxlbnQ6dHJ1ZX0sZSkpfTt2YXIgdz17YWRkOnRydWUscmVtb3ZlOnRydWUsbWVyZ2U6dHJ1ZX07dmFyIF89e2FkZDp0cnVlLHJlbW92ZTpmYWxzZX07dmFyIEU9ZnVuY3Rpb24odCxlLGkpe2k9TWF0aC5taW4oTWF0aC5tYXgoaSwwKSx0Lmxlbmd0aCk7dmFyIHI9QXJyYXkodC5sZW5ndGgtaSk7dmFyIG49ZS5sZW5ndGg7dmFyIHM7Zm9yKHM9MDtzPHIubGVuZ3RoO3MrKylyW3NdPXRbcytpXTtmb3Iocz0wO3M8bjtzKyspdFtzK2ldPWVbc107Zm9yKHM9MDtzPHIubGVuZ3RoO3MrKyl0W3MrbitpXT1yW3NdfTt4LmV4dGVuZChtLnByb3RvdHlwZSxyLHttb2RlbDpnLHByZWluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt9LHRvSlNPTjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9KU09OKGUpfSl9LHN5bmM6ZnVuY3Rpb24oKXtyZXR1cm4gaC5zeW5jLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYWRkOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc2V0KHQseC5leHRlbmQoe21lcmdlOmZhbHNlfSxlLF8pKX0scmVtb3ZlOmZ1bmN0aW9uKHQsZSl7ZT14LmV4dGVuZCh7fSxlKTt2YXIgaT0heC5pc0FycmF5KHQpO3Q9aT9bdF06dC5zbGljZSgpO3ZhciByPXRoaXMuX3JlbW92ZU1vZGVscyh0LGUpO2lmKCFlLnNpbGVudCYmci5sZW5ndGgpe2UuY2hhbmdlcz17YWRkZWQ6W10sbWVyZ2VkOltdLHJlbW92ZWQ6cn07dGhpcy50cmlnZ2VyKCJ1cGRhdGUiLHRoaXMsZSl9cmV0dXJuIGk/clswXTpyfSxzZXQ6ZnVuY3Rpb24odCxlKXtpZih0PT1udWxsKXJldHVybjtlPXguZXh0ZW5kKHt9LHcsZSk7aWYoZS5wYXJzZSYmIXRoaXMuX2lzTW9kZWwodCkpe3Q9dGhpcy5wYXJzZSh0LGUpfHxbXX12YXIgaT0heC5pc0FycmF5KHQpO3Q9aT9bdF06dC5zbGljZSgpO3ZhciByPWUuYXQ7aWYociE9bnVsbClyPStyO2lmKHI+dGhpcy5sZW5ndGgpcj10aGlzLmxlbmd0aDtpZihyPDApcis9dGhpcy5sZW5ndGgrMTt2YXIgbj1bXTt2YXIgcz1bXTt2YXIgYT1bXTt2YXIgbz1bXTt2YXIgaD17fTt2YXIgbD1lLmFkZDt2YXIgdT1lLm1lcmdlO3ZhciBjPWUucmVtb3ZlO3ZhciBmPWZhbHNlO3ZhciBkPXRoaXMuY29tcGFyYXRvciYmcj09bnVsbCYmZS5zb3J0IT09ZmFsc2U7dmFyIHY9eC5pc1N0cmluZyh0aGlzLmNvbXBhcmF0b3IpP3RoaXMuY29tcGFyYXRvcjpudWxsO3ZhciBwLGc7Zm9yKGc9MDtnPHQubGVuZ3RoO2crKyl7cD10W2ddO3ZhciBtPXRoaXMuZ2V0KHApO2lmKG0pe2lmKHUmJnAhPT1tKXt2YXIgXz10aGlzLl9pc01vZGVsKHApP3AuYXR0cmlidXRlczpwO2lmKGUucGFyc2UpXz1tLnBhcnNlKF8sZSk7bS5zZXQoXyxlKTthLnB1c2gobSk7aWYoZCYmIWYpZj1tLmhhc0NoYW5nZWQodil9aWYoIWhbbS5jaWRdKXtoW20uY2lkXT10cnVlO24ucHVzaChtKX10W2ddPW19ZWxzZSBpZihsKXtwPXRbZ109dGhpcy5fcHJlcGFyZU1vZGVsKHAsZSk7aWYocCl7cy5wdXNoKHApO3RoaXMuX2FkZFJlZmVyZW5jZShwLGUpO2hbcC5jaWRdPXRydWU7bi5wdXNoKHApfX19aWYoYyl7Zm9yKGc9MDtnPHRoaXMubGVuZ3RoO2crKyl7cD10aGlzLm1vZGVsc1tnXTtpZighaFtwLmNpZF0pby5wdXNoKHApfWlmKG8ubGVuZ3RoKXRoaXMuX3JlbW92ZU1vZGVscyhvLGUpfXZhciB5PWZhbHNlO3ZhciBiPSFkJiZsJiZjO2lmKG4ubGVuZ3RoJiZiKXt5PXRoaXMubGVuZ3RoIT09bi5sZW5ndGh8fHguc29tZSh0aGlzLm1vZGVscyxmdW5jdGlvbih0LGUpe3JldHVybiB0IT09bltlXX0pO3RoaXMubW9kZWxzLmxlbmd0aD0wO0UodGhpcy5tb2RlbHMsbiwwKTt0aGlzLmxlbmd0aD10aGlzLm1vZGVscy5sZW5ndGh9ZWxzZSBpZihzLmxlbmd0aCl7aWYoZClmPXRydWU7RSh0aGlzLm1vZGVscyxzLHI9PW51bGw/dGhpcy5sZW5ndGg6cik7dGhpcy5sZW5ndGg9dGhpcy5tb2RlbHMubGVuZ3RofWlmKGYpdGhpcy5zb3J0KHtzaWxlbnQ6dHJ1ZX0pO2lmKCFlLnNpbGVudCl7Zm9yKGc9MDtnPHMubGVuZ3RoO2crKyl7aWYociE9bnVsbCllLmluZGV4PXIrZztwPXNbZ107cC50cmlnZ2VyKCJhZGQiLHAsdGhpcyxlKX1pZihmfHx5KXRoaXMudHJpZ2dlcigic29ydCIsdGhpcyxlKTtpZihzLmxlbmd0aHx8by5sZW5ndGh8fGEubGVuZ3RoKXtlLmNoYW5nZXM9e2FkZGVkOnMscmVtb3ZlZDpvLG1lcmdlZDphfTt0aGlzLnRyaWdnZXIoInVwZGF0ZSIsdGhpcyxlKX19cmV0dXJuIGk/dFswXTp0fSxyZXNldDpmdW5jdGlvbih0LGUpe2U9ZT94LmNsb25lKGUpOnt9O2Zvcih2YXIgaT0wO2k8dGhpcy5tb2RlbHMubGVuZ3RoO2krKyl7dGhpcy5fcmVtb3ZlUmVmZXJlbmNlKHRoaXMubW9kZWxzW2ldLGUpfWUucHJldmlvdXNNb2RlbHM9dGhpcy5tb2RlbHM7dGhpcy5fcmVzZXQoKTt0PXRoaXMuYWRkKHQseC5leHRlbmQoe3NpbGVudDp0cnVlfSxlKSk7aWYoIWUuc2lsZW50KXRoaXMudHJpZ2dlcigicmVzZXQiLHRoaXMsZSk7cmV0dXJuIHR9LHB1c2g6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGQodCx4LmV4dGVuZCh7YXQ6dGhpcy5sZW5ndGh9LGUpKX0scG9wOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuYXQodGhpcy5sZW5ndGgtMSk7cmV0dXJuIHRoaXMucmVtb3ZlKGUsdCl9LHVuc2hpZnQ6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGQodCx4LmV4dGVuZCh7YXQ6MH0sZSkpfSxzaGlmdDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmF0KDApO3JldHVybiB0aGlzLnJlbW92ZShlLHQpfSxzbGljZTpmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KHRoaXMubW9kZWxzLGFyZ3VtZW50cyl9LGdldDpmdW5jdGlvbih0KXtpZih0PT1udWxsKXJldHVybiB2b2lkIDA7cmV0dXJuIHRoaXMuX2J5SWRbdF18fHRoaXMuX2J5SWRbdGhpcy5tb2RlbElkKHRoaXMuX2lzTW9kZWwodCk/dC5hdHRyaWJ1dGVzOnQsdC5pZEF0dHJpYnV0ZSldfHx0LmNpZCYmdGhpcy5fYnlJZFt0LmNpZF19LGhhczpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5nZXQodCkhPW51bGx9LGF0OmZ1bmN0aW9uKHQpe2lmKHQ8MCl0Kz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5tb2RlbHNbdF19LHdoZXJlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXNbZT8iZmluZCI6ImZpbHRlciJdKHQpfSxmaW5kV2hlcmU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMud2hlcmUodCx0cnVlKX0sc29ydDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmNvbXBhcmF0b3I7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3Qgc29ydCBhIHNldCB3aXRob3V0IGEgY29tcGFyYXRvciIpO3R8fCh0PXt9KTt2YXIgaT1lLmxlbmd0aDtpZih4LmlzRnVuY3Rpb24oZSkpZT1lLmJpbmQodGhpcyk7aWYoaT09PTF8fHguaXNTdHJpbmcoZSkpe3RoaXMubW9kZWxzPXRoaXMuc29ydEJ5KGUpfWVsc2V7dGhpcy5tb2RlbHMuc29ydChlKX1pZighdC5zaWxlbnQpdGhpcy50cmlnZ2VyKCJzb3J0Iix0aGlzLHQpO3JldHVybiB0aGlzfSxwbHVjazpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tYXAodCsiIil9LGZldGNoOmZ1bmN0aW9uKGkpe2k9eC5leHRlbmQoe3BhcnNlOnRydWV9LGkpO3ZhciByPWkuc3VjY2Vzczt2YXIgbj10aGlzO2kuc3VjY2Vzcz1mdW5jdGlvbih0KXt2YXIgZT1pLnJlc2V0PyJyZXNldCI6InNldCI7bltlXSh0LGkpO2lmKHIpci5jYWxsKGkuY29udGV4dCxuLHQsaSk7bi50cmlnZ2VyKCJzeW5jIixuLHQsaSl9O0codGhpcyxpKTtyZXR1cm4gdGhpcy5zeW5jKCJyZWFkIix0aGlzLGkpfSxjcmVhdGU6ZnVuY3Rpb24odCxlKXtlPWU/eC5jbG9uZShlKTp7fTt2YXIgcj1lLndhaXQ7dD10aGlzLl9wcmVwYXJlTW9kZWwodCxlKTtpZighdClyZXR1cm4gZmFsc2U7aWYoIXIpdGhpcy5hZGQodCxlKTt2YXIgbj10aGlzO3ZhciBzPWUuc3VjY2VzcztlLnN1Y2Nlc3M9ZnVuY3Rpb24odCxlLGkpe2lmKHIpbi5hZGQodCxpKTtpZihzKXMuY2FsbChpLmNvbnRleHQsdCxlLGkpfTt0LnNhdmUobnVsbCxlKTtyZXR1cm4gdH0scGFyc2U6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5tb2RlbHMse21vZGVsOnRoaXMubW9kZWwsY29tcGFyYXRvcjp0aGlzLmNvbXBhcmF0b3J9KX0sbW9kZWxJZDpmdW5jdGlvbih0LGUpe3JldHVybiB0W2V8fHRoaXMubW9kZWwucHJvdG90eXBlLmlkQXR0cmlidXRlfHwiaWQiXX0sdmFsdWVzOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBiKHRoaXMsSSl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGIodGhpcyxrKX0sZW50cmllczpmdW5jdGlvbigpe3JldHVybiBuZXcgYih0aGlzLFMpfSxfcmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmxlbmd0aD0wO3RoaXMubW9kZWxzPVtdO3RoaXMuX2J5SWQ9e319LF9wcmVwYXJlTW9kZWw6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pc01vZGVsKHQpKXtpZighdC5jb2xsZWN0aW9uKXQuY29sbGVjdGlvbj10aGlzO3JldHVybiB0fWU9ZT94LmNsb25lKGUpOnt9O2UuY29sbGVjdGlvbj10aGlzO3ZhciBpO2lmKHRoaXMubW9kZWwucHJvdG90eXBlKXtpPW5ldyB0aGlzLm1vZGVsKHQsZSl9ZWxzZXtpPXRoaXMubW9kZWwodCxlKX1pZighaS52YWxpZGF0aW9uRXJyb3IpcmV0dXJuIGk7dGhpcy50cmlnZ2VyKCJpbnZhbGlkIix0aGlzLGkudmFsaWRhdGlvbkVycm9yLGUpO3JldHVybiBmYWxzZX0sX3JlbW92ZU1vZGVsczpmdW5jdGlvbih0LGUpe3ZhciBpPVtdO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10aGlzLmdldCh0W3JdKTtpZighbiljb250aW51ZTt2YXIgcz10aGlzLmluZGV4T2Yobik7dGhpcy5tb2RlbHMuc3BsaWNlKHMsMSk7dGhpcy5sZW5ndGgtLTtkZWxldGUgdGhpcy5fYnlJZFtuLmNpZF07dmFyIGE9dGhpcy5tb2RlbElkKG4uYXR0cmlidXRlcyxuLmlkQXR0cmlidXRlKTtpZihhIT1udWxsKWRlbGV0ZSB0aGlzLl9ieUlkW2FdO2lmKCFlLnNpbGVudCl7ZS5pbmRleD1zO24udHJpZ2dlcigicmVtb3ZlIixuLHRoaXMsZSl9aS5wdXNoKG4pO3RoaXMuX3JlbW92ZVJlZmVyZW5jZShuLGUpfXJldHVybiBpfSxfaXNNb2RlbDpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGd9LF9hZGRSZWZlcmVuY2U6ZnVuY3Rpb24odCxlKXt0aGlzLl9ieUlkW3QuY2lkXT10O3ZhciBpPXRoaXMubW9kZWxJZCh0LmF0dHJpYnV0ZXMsdC5pZEF0dHJpYnV0ZSk7aWYoaSE9bnVsbCl0aGlzLl9ieUlkW2ldPXQ7dC5vbigiYWxsIix0aGlzLl9vbk1vZGVsRXZlbnQsdGhpcyl9LF9yZW1vdmVSZWZlcmVuY2U6ZnVuY3Rpb24odCxlKXtkZWxldGUgdGhpcy5fYnlJZFt0LmNpZF07dmFyIGk9dGhpcy5tb2RlbElkKHQuYXR0cmlidXRlcyx0LmlkQXR0cmlidXRlKTtpZihpIT1udWxsKWRlbGV0ZSB0aGlzLl9ieUlkW2ldO2lmKHRoaXM9PT10LmNvbGxlY3Rpb24pZGVsZXRlIHQuY29sbGVjdGlvbjt0Lm9mZigiYWxsIix0aGlzLl9vbk1vZGVsRXZlbnQsdGhpcyl9LF9vbk1vZGVsRXZlbnQ6ZnVuY3Rpb24odCxlLGkscil7aWYoZSl7aWYoKHQ9PT0iYWRkInx8dD09PSJyZW1vdmUiKSYmaSE9PXRoaXMpcmV0dXJuO2lmKHQ9PT0iZGVzdHJveSIpdGhpcy5yZW1vdmUoZSxyKTtpZih0PT09ImNoYW5nZUlkIil7dmFyIG49dGhpcy5tb2RlbElkKGUucHJldmlvdXNBdHRyaWJ1dGVzKCksZS5pZEF0dHJpYnV0ZSk7dmFyIHM9dGhpcy5tb2RlbElkKGUuYXR0cmlidXRlcyxlLmlkQXR0cmlidXRlKTtpZihuIT1udWxsKWRlbGV0ZSB0aGlzLl9ieUlkW25dO2lmKHMhPW51bGwpdGhpcy5fYnlJZFtzXT1lfX10aGlzLnRyaWdnZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO3ZhciB5PXR5cGVvZiBTeW1ib2w9PT0iZnVuY3Rpb24iJiZTeW1ib2wuaXRlcmF0b3I7aWYoeSl7bS5wcm90b3R5cGVbeV09bS5wcm90b3R5cGUudmFsdWVzfXZhciBiPWZ1bmN0aW9uKHQsZSl7dGhpcy5fY29sbGVjdGlvbj10O3RoaXMuX2tpbmQ9ZTt0aGlzLl9pbmRleD0wfTt2YXIgST0xO3ZhciBrPTI7dmFyIFM9MztpZih5KXtiLnByb3RvdHlwZVt5XT1mdW5jdGlvbigpe3JldHVybiB0aGlzfX1iLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYodGhpcy5fY29sbGVjdGlvbil7aWYodGhpcy5faW5kZXg8dGhpcy5fY29sbGVjdGlvbi5sZW5ndGgpe3ZhciB0PXRoaXMuX2NvbGxlY3Rpb24uYXQodGhpcy5faW5kZXgpO3RoaXMuX2luZGV4Kys7dmFyIGU7aWYodGhpcy5fa2luZD09PUkpe2U9dH1lbHNle3ZhciBpPXRoaXMuX2NvbGxlY3Rpb24ubW9kZWxJZCh0LmF0dHJpYnV0ZXMsdC5pZEF0dHJpYnV0ZSk7aWYodGhpcy5fa2luZD09PWspe2U9aX1lbHNle2U9W2ksdF19fXJldHVybnt2YWx1ZTplLGRvbmU6ZmFsc2V9fXRoaXMuX2NvbGxlY3Rpb249dm9pZCAwfXJldHVybnt2YWx1ZTp2b2lkIDAsZG9uZTp0cnVlfX07dmFyIEE9aC5WaWV3PWZ1bmN0aW9uKHQpe3RoaXMuY2lkPXgudW5pcXVlSWQoInZpZXciKTt0aGlzLnByZWluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO3guZXh0ZW5kKHRoaXMseC5waWNrKHQsUCkpO3RoaXMuX2Vuc3VyZUVsZW1lbnQoKTt0aGlzLmluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTt2YXIgVD0vXihcUyspXHMqKC4qKSQvO3ZhciBQPVsibW9kZWwiLCJjb2xsZWN0aW9uIiwiZWwiLCJpZCIsImF0dHJpYnV0ZXMiLCJjbGFzc05hbWUiLCJ0YWdOYW1lIiwiZXZlbnRzIl07eC5leHRlbmQoQS5wcm90b3R5cGUscix7dGFnTmFtZToiZGl2IiwkOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLiRlbC5maW5kKHQpfSxwcmVpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSxyZW5kZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlRWxlbWVudCgpO3RoaXMuc3RvcExpc3RlbmluZygpO3JldHVybiB0aGlzfSxfcmVtb3ZlRWxlbWVudDpmdW5jdGlvbigpe3RoaXMuJGVsLnJlbW92ZSgpfSxzZXRFbGVtZW50OmZ1bmN0aW9uKHQpe3RoaXMudW5kZWxlZ2F0ZUV2ZW50cygpO3RoaXMuX3NldEVsZW1lbnQodCk7dGhpcy5kZWxlZ2F0ZUV2ZW50cygpO3JldHVybiB0aGlzfSxfc2V0RWxlbWVudDpmdW5jdGlvbih0KXt0aGlzLiRlbD10IGluc3RhbmNlb2YgaC4kP3Q6aC4kKHQpO3RoaXMuZWw9dGhpcy4kZWxbMF19LGRlbGVnYXRlRXZlbnRzOmZ1bmN0aW9uKHQpe3R8fCh0PXgucmVzdWx0KHRoaXMsImV2ZW50cyIpKTtpZighdClyZXR1cm4gdGhpczt0aGlzLnVuZGVsZWdhdGVFdmVudHMoKTtmb3IodmFyIGUgaW4gdCl7dmFyIGk9dFtlXTtpZigheC5pc0Z1bmN0aW9uKGkpKWk9dGhpc1tpXTtpZighaSljb250aW51ZTt2YXIgcj1lLm1hdGNoKFQpO3RoaXMuZGVsZWdhdGUoclsxXSxyWzJdLGkuYmluZCh0aGlzKSl9cmV0dXJuIHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLiRlbC5vbih0KyIuZGVsZWdhdGVFdmVudHMiK3RoaXMuY2lkLGUsaSk7cmV0dXJuIHRoaXN9LHVuZGVsZWdhdGVFdmVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLiRlbCl0aGlzLiRlbC5vZmYoIi5kZWxlZ2F0ZUV2ZW50cyIrdGhpcy5jaWQpO3JldHVybiB0aGlzfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKHQsZSxpKXt0aGlzLiRlbC5vZmYodCsiLmRlbGVnYXRlRXZlbnRzIit0aGlzLmNpZCxlLGkpO3JldHVybiB0aGlzfSxfY3JlYXRlRWxlbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX0sX2Vuc3VyZUVsZW1lbnQ6ZnVuY3Rpb24oKXtpZighdGhpcy5lbCl7dmFyIHQ9eC5leHRlbmQoe30seC5yZXN1bHQodGhpcywiYXR0cmlidXRlcyIpKTtpZih0aGlzLmlkKXQuaWQ9eC5yZXN1bHQodGhpcywiaWQiKTtpZih0aGlzLmNsYXNzTmFtZSl0WyJjbGFzcyJdPXgucmVzdWx0KHRoaXMsImNsYXNzTmFtZSIpO3RoaXMuc2V0RWxlbWVudCh0aGlzLl9jcmVhdGVFbGVtZW50KHgucmVzdWx0KHRoaXMsInRhZ05hbWUiKSkpO3RoaXMuX3NldEF0dHJpYnV0ZXModCl9ZWxzZXt0aGlzLnNldEVsZW1lbnQoeC5yZXN1bHQodGhpcywiZWwiKSl9fSxfc2V0QXR0cmlidXRlczpmdW5jdGlvbih0KXt0aGlzLiRlbC5hdHRyKHQpfX0pO3ZhciBIPWZ1bmN0aW9uKHIsdCxuLHMpe3N3aXRjaCh0KXtjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHJbbl0odGhpc1tzXSl9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHJbbl0odGhpc1tzXSx0KX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiByW25dKHRoaXNbc10sQyh0LHRoaXMpLGUpfTtjYXNlIDQ6cmV0dXJuIGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gcltuXSh0aGlzW3NdLEModCx0aGlzKSxlLGkpfTtkZWZhdWx0OnJldHVybiBmdW5jdGlvbigpe3ZhciB0PWEuY2FsbChhcmd1bWVudHMpO3QudW5zaGlmdCh0aGlzW3NdKTtyZXR1cm4gcltuXS5hcHBseShyLHQpfX19O3ZhciAkPWZ1bmN0aW9uKGkscix0LG4pe3guZWFjaCh0LGZ1bmN0aW9uKHQsZSl7aWYocltlXSlpLnByb3RvdHlwZVtlXT1IKHIsdCxlLG4pfSl9O3ZhciBDPWZ1bmN0aW9uKGUsdCl7aWYoeC5pc0Z1bmN0aW9uKGUpKXJldHVybiBlO2lmKHguaXNPYmplY3QoZSkmJiF0Ll9pc01vZGVsKGUpKXJldHVybiBSKGUpO2lmKHguaXNTdHJpbmcoZSkpcmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LmdldChlKX07cmV0dXJuIGV9O3ZhciBSPWZ1bmN0aW9uKHQpe3ZhciBlPXgubWF0Y2hlcyh0KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodC5hdHRyaWJ1dGVzKX19O3ZhciBNPXtmb3JFYWNoOjMsZWFjaDozLG1hcDozLGNvbGxlY3Q6MyxyZWR1Y2U6MCxmb2xkbDowLGluamVjdDowLHJlZHVjZVJpZ2h0OjAsZm9sZHI6MCxmaW5kOjMsZGV0ZWN0OjMsZmlsdGVyOjMsc2VsZWN0OjMscmVqZWN0OjMsZXZlcnk6MyxhbGw6Myxzb21lOjMsYW55OjMsaW5jbHVkZTozLGluY2x1ZGVzOjMsY29udGFpbnM6MyxpbnZva2U6MCxtYXg6MyxtaW46Myx0b0FycmF5OjEsc2l6ZToxLGZpcnN0OjMsaGVhZDozLHRha2U6Myxpbml0aWFsOjMscmVzdDozLHRhaWw6Myxkcm9wOjMsbGFzdDozLHdpdGhvdXQ6MCxkaWZmZXJlbmNlOjAsaW5kZXhPZjozLHNodWZmbGU6MSxsYXN0SW5kZXhPZjozLGlzRW1wdHk6MSxjaGFpbjoxLHNhbXBsZTozLHBhcnRpdGlvbjozLGdyb3VwQnk6Myxjb3VudEJ5OjMsc29ydEJ5OjMsaW5kZXhCeTozLGZpbmRJbmRleDozLGZpbmRMYXN0SW5kZXg6M307dmFyIE49e2tleXM6MSx2YWx1ZXM6MSxwYWlyczoxLGludmVydDoxLHBpY2s6MCxvbWl0OjAsY2hhaW46MSxpc0VtcHR5OjF9O3guZWFjaChbW20sTSwibW9kZWxzIl0sW2csTiwiYXR0cmlidXRlcyJdXSxmdW5jdGlvbih0KXt2YXIgaT10WzBdLGU9dFsxXSxyPXRbMl07aS5taXhpbj1mdW5jdGlvbih0KXt2YXIgZT14LnJlZHVjZSh4LmZ1bmN0aW9ucyh0KSxmdW5jdGlvbih0LGUpe3RbZV09MDtyZXR1cm4gdH0se30pOyQoaSx0LGUscil9OyQoaSx4LGUscil9KTtoLnN5bmM9ZnVuY3Rpb24odCxlLHIpe3ZhciBpPWpbdF07eC5kZWZhdWx0cyhyfHwocj17fSkse2VtdWxhdGVIVFRQOmguZW11bGF0ZUhUVFAsZW11bGF0ZUpTT046aC5lbXVsYXRlSlNPTn0pO3ZhciBuPXt0eXBlOmksZGF0YVR5cGU6Impzb24ifTtpZighci51cmwpe24udXJsPXgucmVzdWx0KGUsInVybCIpfHxWKCl9aWYoci5kYXRhPT1udWxsJiZlJiYodD09PSJjcmVhdGUifHx0PT09InVwZGF0ZSJ8fHQ9PT0icGF0Y2giKSl7bi5jb250ZW50VHlwZT0iYXBwbGljYXRpb24vanNvbiI7bi5kYXRhPUpTT04uc3RyaW5naWZ5KHIuYXR0cnN8fGUudG9KU09OKHIpKX1pZihyLmVtdWxhdGVKU09OKXtuLmNvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiO24uZGF0YT1uLmRhdGE/e21vZGVsOm4uZGF0YX06e319aWYoci5lbXVsYXRlSFRUUCYmKGk9PT0iUFVUInx8aT09PSJERUxFVEUifHxpPT09IlBBVENIIikpe24udHlwZT0iUE9TVCI7aWYoci5lbXVsYXRlSlNPTiluLmRhdGEuX21ldGhvZD1pO3ZhciBzPXIuYmVmb3JlU2VuZDtyLmJlZm9yZVNlbmQ9ZnVuY3Rpb24odCl7dC5zZXRSZXF1ZXN0SGVhZGVyKCJYLUhUVFAtTWV0aG9kLU92ZXJyaWRlIixpKTtpZihzKXJldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19aWYobi50eXBlIT09IkdFVCImJiFyLmVtdWxhdGVKU09OKXtuLnByb2Nlc3NEYXRhPWZhbHNlfXZhciBhPXIuZXJyb3I7ci5lcnJvcj1mdW5jdGlvbih0LGUsaSl7ci50ZXh0U3RhdHVzPWU7ci5lcnJvclRocm93bj1pO2lmKGEpYS5jYWxsKHIuY29udGV4dCx0LGUsaSl9O3ZhciBvPXIueGhyPWguYWpheCh4LmV4dGVuZChuLHIpKTtlLnRyaWdnZXIoInJlcXVlc3QiLGUsbyxyKTtyZXR1cm4gb307dmFyIGo9e2NyZWF0ZToiUE9TVCIsdXBkYXRlOiJQVVQiLHBhdGNoOiJQQVRDSCIsZGVsZXRlOiJERUxFVEUiLHJlYWQ6IkdFVCJ9O2guYWpheD1mdW5jdGlvbigpe3JldHVybiBoLiQuYWpheC5hcHBseShoLiQsYXJndW1lbnRzKX07dmFyIE89aC5Sb3V0ZXI9ZnVuY3Rpb24odCl7dHx8KHQ9e30pO3RoaXMucHJlaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYodC5yb3V0ZXMpdGhpcy5yb3V0ZXM9dC5yb3V0ZXM7dGhpcy5fYmluZFJvdXRlcygpO3RoaXMuaW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBVPS9cKCguKj8pXCkvZzt2YXIgej0vKFwoXD8pPzpcdysvZzt2YXIgcT0vXCpcdysvZzt2YXIgRj0vW1wte31cW1xdKz8uLFxcXF4kfCNcc10vZzt4LmV4dGVuZChPLnByb3RvdHlwZSxyLHtwcmVpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7fSxyb3V0ZTpmdW5jdGlvbihpLHIsbil7aWYoIXguaXNSZWdFeHAoaSkpaT10aGlzLl9yb3V0ZVRvUmVnRXhwKGkpO2lmKHguaXNGdW5jdGlvbihyKSl7bj1yO3I9IiJ9aWYoIW4pbj10aGlzW3JdO3ZhciBzPXRoaXM7aC5oaXN0b3J5LnJvdXRlKGksZnVuY3Rpb24odCl7dmFyIGU9cy5fZXh0cmFjdFBhcmFtZXRlcnMoaSx0KTtpZihzLmV4ZWN1dGUobixlLHIpIT09ZmFsc2Upe3MudHJpZ2dlci5hcHBseShzLFsicm91dGU6IityXS5jb25jYXQoZSkpO3MudHJpZ2dlcigicm91dGUiLHIsZSk7aC5oaXN0b3J5LnRyaWdnZXIoInJvdXRlIixzLHIsZSl9fSk7cmV0dXJuIHRoaXN9LGV4ZWN1dGU6ZnVuY3Rpb24odCxlLGkpe2lmKHQpdC5hcHBseSh0aGlzLGUpfSxuYXZpZ2F0ZTpmdW5jdGlvbih0LGUpe2guaGlzdG9yeS5uYXZpZ2F0ZSh0LGUpO3JldHVybiB0aGlzfSxfYmluZFJvdXRlczpmdW5jdGlvbigpe2lmKCF0aGlzLnJvdXRlcylyZXR1cm47dGhpcy5yb3V0ZXM9eC5yZXN1bHQodGhpcywicm91dGVzIik7dmFyIHQsZT14LmtleXModGhpcy5yb3V0ZXMpO3doaWxlKCh0PWUucG9wKCkpIT1udWxsKXt0aGlzLnJvdXRlKHQsdGhpcy5yb3V0ZXNbdF0pfX0sX3JvdXRlVG9SZWdFeHA6ZnVuY3Rpb24odCl7dD10LnJlcGxhY2UoRiwiXFwkJiIpLnJlcGxhY2UoVSwiKD86JDEpPyIpLnJlcGxhY2UoeixmdW5jdGlvbih0LGUpe3JldHVybiBlP3Q6IihbXi8/XSspIn0pLnJlcGxhY2UocSwiKFteP10qPykiKTtyZXR1cm4gbmV3IFJlZ0V4cCgiXiIrdCsiKD86XFw/KFtcXHNcXFNdKikpPyQiKX0sX2V4dHJhY3RQYXJhbWV0ZXJzOmZ1bmN0aW9uKHQsZSl7dmFyIGk9dC5leGVjKGUpLnNsaWNlKDEpO3JldHVybiB4Lm1hcChpLGZ1bmN0aW9uKHQsZSl7aWYoZT09PWkubGVuZ3RoLTEpcmV0dXJuIHR8fG51bGw7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHQpOm51bGx9KX19KTt2YXIgQj1oLkhpc3Rvcnk9ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXJzPVtdO3RoaXMuY2hlY2tVcmw9dGhpcy5jaGVja1VybC5iaW5kKHRoaXMpO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7dGhpcy5sb2NhdGlvbj13aW5kb3cubG9jYXRpb247dGhpcy5oaXN0b3J5PXdpbmRvdy5oaXN0b3J5fX07dmFyIEo9L15bI1wvXXxccyskL2c7dmFyIEw9L15cLyt8XC8rJC9nO3ZhciBXPS8jLiokLztCLnN0YXJ0ZWQ9ZmFsc2U7eC5leHRlbmQoQi5wcm90b3R5cGUscix7aW50ZXJ2YWw6NTAsYXRSb290OmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9bXlwvXSQvLCIkJi8iKTtyZXR1cm4gdD09PXRoaXMucm9vdCYmIXRoaXMuZ2V0U2VhcmNoKCl9LG1hdGNoUm9vdDpmdW5jdGlvbigpe3ZhciB0PXRoaXMuZGVjb2RlRnJhZ21lbnQodGhpcy5sb2NhdGlvbi5wYXRobmFtZSk7dmFyIGU9dC5zbGljZSgwLHRoaXMucm9vdC5sZW5ndGgtMSkrIi8iO3JldHVybiBlPT09dGhpcy5yb290fSxkZWNvZGVGcmFnbWVudDpmdW5jdGlvbih0KXtyZXR1cm4gZGVjb2RlVVJJKHQucmVwbGFjZSgvJTI1L2csIiUyNTI1IikpfSxnZXRTZWFyY2g6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikubWF0Y2goL1w/LisvKTtyZXR1cm4gdD90WzBdOiIifSxnZXRIYXNoOmZ1bmN0aW9uKHQpe3ZhciBlPSh0fHx0aGlzKS5sb2NhdGlvbi5ocmVmLm1hdGNoKC8jKC4qKSQvKTtyZXR1cm4gZT9lWzFdOiIifSxnZXRQYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kZWNvZGVGcmFnbWVudCh0aGlzLmxvY2F0aW9uLnBhdGhuYW1lK3RoaXMuZ2V0U2VhcmNoKCkpLnNsaWNlKHRoaXMucm9vdC5sZW5ndGgtMSk7cmV0dXJuIHQuY2hhckF0KDApPT09Ii8iP3Quc2xpY2UoMSk6dH0sZ2V0RnJhZ21lbnQ6ZnVuY3Rpb24odCl7aWYodD09bnVsbCl7aWYodGhpcy5fdXNlUHVzaFN0YXRlfHwhdGhpcy5fd2FudHNIYXNoQ2hhbmdlKXt0PXRoaXMuZ2V0UGF0aCgpfWVsc2V7dD10aGlzLmdldEhhc2goKX19cmV0dXJuIHQucmVwbGFjZShKLCIiKX0sc3RhcnQ6ZnVuY3Rpb24odCl7aWYoQi5zdGFydGVkKXRocm93IG5ldyBFcnJvcigiQmFja2JvbmUuaGlzdG9yeSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQiKTtCLnN0YXJ0ZWQ9dHJ1ZTt0aGlzLm9wdGlvbnM9eC5leHRlbmQoe3Jvb3Q6Ii8ifSx0aGlzLm9wdGlvbnMsdCk7dGhpcy5yb290PXRoaXMub3B0aW9ucy5yb290O3RoaXMuX3dhbnRzSGFzaENoYW5nZT10aGlzLm9wdGlvbnMuaGFzaENoYW5nZSE9PWZhbHNlO3RoaXMuX2hhc0hhc2hDaGFuZ2U9Im9uaGFzaGNoYW5nZSJpbiB3aW5kb3cmJihkb2N1bWVudC5kb2N1bWVudE1vZGU9PT12b2lkIDB8fGRvY3VtZW50LmRvY3VtZW50TW9kZT43KTt0aGlzLl91c2VIYXNoQ2hhbmdlPXRoaXMuX3dhbnRzSGFzaENoYW5nZSYmdGhpcy5faGFzSGFzaENoYW5nZTt0aGlzLl93YW50c1B1c2hTdGF0ZT0hIXRoaXMub3B0aW9ucy5wdXNoU3RhdGU7dGhpcy5faGFzUHVzaFN0YXRlPSEhKHRoaXMuaGlzdG9yeSYmdGhpcy5oaXN0b3J5LnB1c2hTdGF0ZSk7dGhpcy5fdXNlUHVzaFN0YXRlPXRoaXMuX3dhbnRzUHVzaFN0YXRlJiZ0aGlzLl9oYXNQdXNoU3RhdGU7dGhpcy5mcmFnbWVudD10aGlzLmdldEZyYWdtZW50KCk7dGhpcy5yb290PSgiLyIrdGhpcy5yb290KyIvIikucmVwbGFjZShMLCIvIik7aWYodGhpcy5fd2FudHNIYXNoQ2hhbmdlJiZ0aGlzLl93YW50c1B1c2hTdGF0ZSl7aWYoIXRoaXMuX2hhc1B1c2hTdGF0ZSYmIXRoaXMuYXRSb290KCkpe3ZhciBlPXRoaXMucm9vdC5zbGljZSgwLC0xKXx8Ii8iO3RoaXMubG9jYXRpb24ucmVwbGFjZShlKyIjIit0aGlzLmdldFBhdGgoKSk7cmV0dXJuIHRydWV9ZWxzZSBpZih0aGlzLl9oYXNQdXNoU3RhdGUmJnRoaXMuYXRSb290KCkpe3RoaXMubmF2aWdhdGUodGhpcy5nZXRIYXNoKCkse3JlcGxhY2U6dHJ1ZX0pfX1pZighdGhpcy5faGFzSGFzaENoYW5nZSYmdGhpcy5fd2FudHNIYXNoQ2hhbmdlJiYhdGhpcy5fdXNlUHVzaFN0YXRlKXt0aGlzLmlmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTt0aGlzLmlmcmFtZS5zcmM9ImphdmFzY3JpcHQ6MCI7dGhpcy5pZnJhbWUuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5pZnJhbWUudGFiSW5kZXg9LTE7dmFyIGk9ZG9jdW1lbnQuYm9keTt2YXIgcj1pLmluc2VydEJlZm9yZSh0aGlzLmlmcmFtZSxpLmZpcnN0Q2hpbGQpLmNvbnRlbnRXaW5kb3c7ci5kb2N1bWVudC5vcGVuKCk7ci5kb2N1bWVudC5jbG9zZSgpO3IubG9jYXRpb24uaGFzaD0iIyIrdGhpcy5mcmFnbWVudH12YXIgbj13aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXR0YWNoRXZlbnQoIm9uIit0LGUpfTtpZih0aGlzLl91c2VQdXNoU3RhdGUpe24oInBvcHN0YXRlIix0aGlzLmNoZWNrVXJsLGZhbHNlKX1lbHNlIGlmKHRoaXMuX3VzZUhhc2hDaGFuZ2UmJiF0aGlzLmlmcmFtZSl7bigiaGFzaGNoYW5nZSIsdGhpcy5jaGVja1VybCxmYWxzZSl9ZWxzZSBpZih0aGlzLl93YW50c0hhc2hDaGFuZ2Upe3RoaXMuX2NoZWNrVXJsSW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5jaGVja1VybCx0aGlzLmludGVydmFsKX1pZighdGhpcy5vcHRpb25zLnNpbGVudClyZXR1cm4gdGhpcy5sb2FkVXJsKCl9LHN0b3A6ZnVuY3Rpb24oKXt2YXIgdD13aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gZGV0YWNoRXZlbnQoIm9uIit0LGUpfTtpZih0aGlzLl91c2VQdXNoU3RhdGUpe3QoInBvcHN0YXRlIix0aGlzLmNoZWNrVXJsLGZhbHNlKX1lbHNlIGlmKHRoaXMuX3VzZUhhc2hDaGFuZ2UmJiF0aGlzLmlmcmFtZSl7dCgiaGFzaGNoYW5nZSIsdGhpcy5jaGVja1VybCxmYWxzZSl9aWYodGhpcy5pZnJhbWUpe2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5pZnJhbWUpO3RoaXMuaWZyYW1lPW51bGx9aWYodGhpcy5fY2hlY2tVcmxJbnRlcnZhbCljbGVhckludGVydmFsKHRoaXMuX2NoZWNrVXJsSW50ZXJ2YWwpO0Iuc3RhcnRlZD1mYWxzZX0scm91dGU6ZnVuY3Rpb24odCxlKXt0aGlzLmhhbmRsZXJzLnVuc2hpZnQoe3JvdXRlOnQsY2FsbGJhY2s6ZX0pfSxjaGVja1VybDpmdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldEZyYWdtZW50KCk7aWYoZT09PXRoaXMuZnJhZ21lbnQmJnRoaXMuaWZyYW1lKXtlPXRoaXMuZ2V0SGFzaCh0aGlzLmlmcmFtZS5jb250ZW50V2luZG93KX1pZihlPT09dGhpcy5mcmFnbWVudClyZXR1cm4gZmFsc2U7aWYodGhpcy5pZnJhbWUpdGhpcy5uYXZpZ2F0ZShlKTt0aGlzLmxvYWRVcmwoKX0sbG9hZFVybDpmdW5jdGlvbihlKXtpZighdGhpcy5tYXRjaFJvb3QoKSlyZXR1cm4gZmFsc2U7ZT10aGlzLmZyYWdtZW50PXRoaXMuZ2V0RnJhZ21lbnQoZSk7cmV0dXJuIHguc29tZSh0aGlzLmhhbmRsZXJzLGZ1bmN0aW9uKHQpe2lmKHQucm91dGUudGVzdChlKSl7dC5jYWxsYmFjayhlKTtyZXR1cm4gdHJ1ZX19KX0sbmF2aWdhdGU6ZnVuY3Rpb24odCxlKXtpZighQi5zdGFydGVkKXJldHVybiBmYWxzZTtpZighZXx8ZT09PXRydWUpZT17dHJpZ2dlcjohIWV9O3Q9dGhpcy5nZXRGcmFnbWVudCh0fHwiIik7dmFyIGk9dGhpcy5yb290O2lmKHQ9PT0iInx8dC5jaGFyQXQoMCk9PT0iPyIpe2k9aS5zbGljZSgwLC0xKXx8Ii8ifXZhciByPWkrdDt0PXQucmVwbGFjZShXLCIiKTt2YXIgbj10aGlzLmRlY29kZUZyYWdtZW50KHQpO2lmKHRoaXMuZnJhZ21lbnQ9PT1uKXJldHVybjt0aGlzLmZyYWdtZW50PW47aWYodGhpcy5fdXNlUHVzaFN0YXRlKXt0aGlzLmhpc3RvcnlbZS5yZXBsYWNlPyJyZXBsYWNlU3RhdGUiOiJwdXNoU3RhdGUiXSh7fSxkb2N1bWVudC50aXRsZSxyKX1lbHNlIGlmKHRoaXMuX3dhbnRzSGFzaENoYW5nZSl7dGhpcy5fdXBkYXRlSGFzaCh0aGlzLmxvY2F0aW9uLHQsZS5yZXBsYWNlKTtpZih0aGlzLmlmcmFtZSYmdCE9PXRoaXMuZ2V0SGFzaCh0aGlzLmlmcmFtZS5jb250ZW50V2luZG93KSl7dmFyIHM9dGhpcy5pZnJhbWUuY29udGVudFdpbmRvdztpZighZS5yZXBsYWNlKXtzLmRvY3VtZW50Lm9wZW4oKTtzLmRvY3VtZW50LmNsb3NlKCl9dGhpcy5fdXBkYXRlSGFzaChzLmxvY2F0aW9uLHQsZS5yZXBsYWNlKX19ZWxzZXtyZXR1cm4gdGhpcy5sb2NhdGlvbi5hc3NpZ24ocil9aWYoZS50cmlnZ2VyKXJldHVybiB0aGlzLmxvYWRVcmwodCl9LF91cGRhdGVIYXNoOmZ1bmN0aW9uKHQsZSxpKXtpZihpKXt2YXIgcj10LmhyZWYucmVwbGFjZSgvKGphdmFzY3JpcHQ6fCMpLiokLywiIik7dC5yZXBsYWNlKHIrIiMiK2UpfWVsc2V7dC5oYXNoPSIjIitlfX19KTtoLmhpc3Rvcnk9bmV3IEI7dmFyIEQ9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzO3ZhciByO2lmKHQmJnguaGFzKHQsImNvbnN0cnVjdG9yIikpe3I9dC5jb25zdHJ1Y3Rvcn1lbHNle3I9ZnVuY3Rpb24oKXtyZXR1cm4gaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXguZXh0ZW5kKHIsaSxlKTtyLnByb3RvdHlwZT14LmNyZWF0ZShpLnByb3RvdHlwZSx0KTtyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yO3IuX19zdXBlcl9fPWkucHJvdG90eXBlO3JldHVybiByfTtnLmV4dGVuZD1tLmV4dGVuZD1PLmV4dGVuZD1BLmV4dGVuZD1CLmV4dGVuZD1EO3ZhciBWPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdBICJ1cmwiIHByb3BlcnR5IG9yIGZ1bmN0aW9uIG11c3QgYmUgc3BlY2lmaWVkJyl9O3ZhciBHPWZ1bmN0aW9uKGUsaSl7dmFyIHI9aS5lcnJvcjtpLmVycm9yPWZ1bmN0aW9uKHQpe2lmKHIpci5jYWxsKGkuY29udGV4dCxlLHQsaSk7ZS50cmlnZ2VyKCJlcnJvciIsZSx0LGkpfX07cmV0dXJuIGh9KTsK
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 25200
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 1500
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160509T120132Z
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "24fcbda1-9108-4ee0-971d-a3e0e406ca75"
