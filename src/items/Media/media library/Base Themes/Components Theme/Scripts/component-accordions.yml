---
ID: "7d69a282-756d-405b-99f2-ad23e9687f3c"
Parent: "02f3f9cf-6e2b-49c8-be56-9701c0316569"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/Components Theme/Scripts/component-accordions"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/7D69A282756D405B99F2AD23E9687F3C.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "7d69a282-756d-405b-99f2-ad23e9687f3c"
  Value: LyogZ2xvYmFsIF86dHJ1ZSAqLw0KLyoqDQogKiBDb21wb25lbnQgQWNjb3JkaW9uDQogKiBAbW9kdWxlIEFjY29yZGlvbg0KICogQHBhcmFtICB7alF1ZXJ5fSAkIEluc3RhbmNlIG9mIGpRdWVyeQ0KICogQHJldHVybiB7T2JqZWN0fSBMaXN0IG9mIGFjY29yZGlvbiBtZXRob2RzDQogKi8NClhBLmNvbXBvbmVudC5hY2NvcmRpb25zID0gKGZ1bmN0aW9uKCQpIHsNCiAgICAvKioNCiAgICAgKiBUaGlzIG9iamVjdCBzdG9yZXMgYWxsIHB1YmxpYyBhcGkgbWV0aG9kcw0KICAgICAqIEB0eXBlIHtPYmplY3QuPE1ldGhvZHM+fQ0KICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6QWNjb3JkaW9uDQogICAgICogKi8NCiAgICB2YXIgYXBpID0ge307DQogICAgLyoqDQogICAgICogdG9vZ2xlRXZlbnRzIGxpc3Qgb2YgdG9nZ2xlIGV2ZW50cw0KICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6QWNjb3JkaW9uDQogICAgICogQHByaXZhdGUNCiAgICAgKi8NCiAgICB2YXIgdG9vZ2xlRXZlbnRzID0gew0KICAgICAgICBmb2N1czogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCJzaG93Iik7DQogICAgICAgIH0sDQogICAgICAgIGJsdXI6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygic2hvdyIpOw0KICAgICAgICB9DQogICAgfTsNCiAgICAvKioNCiAgICAgKiBoZWFkZXJCYWNrZ3JvdW5kIG1ldGhvZCBzZXQgdXAgYmFja2dyb3VuZCBpbWFnZSBmb3IgdG9nZ2xlLWhlYWRlcg0KICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6QWNjb3JkaW9uDQogICAgICogQHBhcmFtIHtEb21FbGVtZW50fSBoZWFkZXIgdG9nZ2xlLWhlYWRlciBET00gZWxlbWVudCBvZiBhY2NvcmRpb24gY29tcG9uZW50DQogICAgICogQGFsaWFzIG1vZHVsZTpBY2NvcmRpb24uaGVhZGVyQmFja2dyb3VuZA0KICAgICAqIEBwcml2YXRlDQogICAgICovDQogICAgZnVuY3Rpb24gaGVhZGVyQmFja2dyb3VuZChoZWFkZXIpIHsNCiAgICAgICAgdmFyIGJhY2tncm91bmRJY29uID0gJChoZWFkZXIpLA0KICAgICAgICAgICAgYmFja2dyb3VuZCA9ICQoaGVhZGVyKS5maW5kKCJpbWciKSwNCiAgICAgICAgICAgIGJhY2tncm91bmRTcmMgPSBiYWNrZ3JvdW5kLmF0dHIoInNyYyIpOw0KDQogICAgICAgIGlmIChiYWNrZ3JvdW5kU3JjKSB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kSWNvbi5wYXJlbnRzKCIuYWNjb3JkaW9uIikuYWRkQ2xhc3MoImFjY29yZGlvbi1pbWFnZSIpOw0KDQogICAgICAgICAgICBiYWNrZ3JvdW5kSWNvbi5jc3Moew0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICJ1cmwoIiArIGJhY2tncm91bmRTcmMgKyAiKSIsDQogICAgICAgICAgICAgICAgImJhY2tncm91bmQtcmVwZWF0IjogIm5vLXJlcGVhdCIsDQogICAgICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICJjb3ZlciIsDQogICAgICAgICAgICAgICAgImJhY2tncm91bmQtcG9zaXRpb24iOiAiNTAlIDEwMCUiDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgYmFja2dyb3VuZC5oaWRlKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgLyoqDQogICAgICogY2FsY1NsaWRlU2l6ZSBtZXRob2QgY2FsY3VsYXRlIGFuZCBzZXQgdXAgd2lkdGggb2YgYWNjb3JkaW9uIGl0ZW1zDQogICAgICogQG1lbWJlck9mIG1vZHVsZTpBY2NvcmRpb24NCiAgICAgKiBAcGFyYW0ge0RvbUVsZW1lbnR9IGFjYyBSb290IERvbSBlbGVtZW50IG9mIGFjY29yZGlvbiBjb21wb25lbnQNCiAgICAgKiBAYWxpYXMgbW9kdWxlOkFjY29yZGlvbi5jYWxjU2xpZGVTaXplDQogICAgICogQHByaXZhdGUNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjYWxjU2xpZGVTaXplKGFjYykgew0KICAgICAgICB2YXIgYWNjb3JkaW9uV2lkdGggPSAkKGFjYykud2lkdGgoKSwNCiAgICAgICAgICAgIGFjY29yZGlvbkl0ZW1zID0gJChhY2MpLmZpbmQoIi5pdGVtIiksDQogICAgICAgICAgICBtYXhIZWlnaHQgPSAwOw0KDQogICAgICAgIF8uZWFjaChhY2NvcmRpb25JdGVtcywgZnVuY3Rpb24oaXRlbSkgew0KICAgICAgICAgICAgdmFyIGl0ZW1Db250ZW50ID0gJChpdGVtKS5maW5kKCIudG9nZ2xlLWNvbnRlbnQiKSwNCiAgICAgICAgICAgICAgICBpdGVtSGVhZGVyID0gJChpdGVtKS5maW5kKCIudG9nZ2xlLWhlYWRlciIpLA0KICAgICAgICAgICAgICAgIHNsaWRlV2lkdGggPQ0KICAgICAgICAgICAgICAgICAgICBhY2NvcmRpb25XaWR0aCAtDQogICAgICAgICAgICAgICAgICAgIGFjY29yZGlvbkl0ZW1zLmxlbmd0aCAqIGl0ZW1IZWFkZXIub3V0ZXJXaWR0aCgpOw0KDQogICAgICAgICAgICBpZiAoJChpdGVtKS5oYXNDbGFzcygiYWN0aXZlIikpIHsNCiAgICAgICAgICAgICAgICAkKGl0ZW0pLmNzcyh7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiBzbGlkZVdpZHRoDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vd2lkdGgNCiAgICAgICAgICAgIGl0ZW1Db250ZW50LmNzcyh7DQogICAgICAgICAgICAgICAgd2lkdGg6ICQoYWNjKS5oYXNDbGFzcygiYWNjb3JkaW9uLWltYWdlIikNCiAgICAgICAgICAgICAgICAgICAgPyBzbGlkZVdpZHRoICsgaXRlbUhlYWRlci5vdXRlcldpZHRoKCkNCiAgICAgICAgICAgICAgICAgICAgOiBzbGlkZVdpZHRoIC0NCiAgICAgICAgICAgICAgICAgICAgICBpdGVtSGVhZGVyLm91dGVyV2lkdGgoKSAtDQogICAgICAgICAgICAgICAgICAgICAgcGFyc2VJbnQoaXRlbUhlYWRlci5jc3MoInBhZGRpbmciKSkNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvL2hlaWdodA0KICAgICAgICAgICAgaWYgKA0KICAgICAgICAgICAgICAgICQoaXRlbSkNCiAgICAgICAgICAgICAgICAgICAgLmZpbmQoIi50b2dnbGUtY29udGVudCIpDQogICAgICAgICAgICAgICAgICAgIC5oZWlnaHQoKSA+IG1heEhlaWdodA0KICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gJChpdGVtKQ0KICAgICAgICAgICAgICAgICAgICAuZmluZCgiLnRvZ2dsZS1jb250ZW50IikNCiAgICAgICAgICAgICAgICAgICAgLmhlaWdodCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBhbmltYXRlSG9yaXpvbnRhbCBtZXRob2Qgc2V0IHVwIGFuaW1hdGlvbiBmb3IgaG9yaXpvbnRhbGx5IG9yaWVudGVkDQogICAgICogYWNjb3JkaW9uIGNvbXBvbmVudA0KICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6QWNjb3JkaW9uDQogICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgbGlzdCBvZiBwcm9wZXJ0aWVzIGZvciBhY2NvcmRpb24gY29tcG9uZW50DQogICAgICogQGFsaWFzIG1vZHVsZTpBY2NvcmRpb24uYW5pbWF0ZUhvcml6b250YWwNCiAgICAgKi8NCiAgICBhcGkuYW5pbWF0ZUhvcml6b250YWwgPSBmdW5jdGlvbihwcm9wZXJ0aWVzKSB7DQogICAgICAgIHZhciBhY2NvcmRpb24gPSAkKHRoaXMpLnBhcmVudHMoIi5hY2NvcmRpb24iKSwNCiAgICAgICAgICAgIHBhbmVsID0gJCh0aGlzKS5jbG9zZXN0KCIuaXRlbSIpLA0KICAgICAgICAgICAgaGVhZGVyID0gcGFuZWwuZmluZCgiLnRvZ2dsZS1oZWFkZXIiKSwNCiAgICAgICAgICAgIGNvbnRlbnQgPSBwYW5lbC5maW5kKCIudG9nZ2xlLWNvbnRlbnQiKSwNCiAgICAgICAgICAgIGl0ZW1zID0gYWNjb3JkaW9uLmZpbmQoIi5pdGVtIiksDQogICAgICAgICAgICBzaWJsaW5ncyA9IHBhbmVsLnNpYmxpbmdzKCksDQogICAgICAgICAgICBzaWJsaW5nc0NvbnRlbnQgPSBzaWJsaW5ncy5maW5kKCIudG9nZ2xlLWNvbnRlbnQiKTsNCg0KICAgICAgICBwYW5lbC50b2dnbGVDbGFzcygiYWN0aXZlIik7DQogICAgICAgIHNpYmxpbmdzLnJlbW92ZUNsYXNzKCJhY3RpdmUiKTsNCiAgICAgICAgc2libGluZ3Muc3RvcCh0cnVlKS5hbmltYXRlKA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHdpZHRoOiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcHJvcGVydGllcy5zcGVlZCwNCiAgICAgICAgICAgIHByb3BlcnRpZXMuZWFzaW5nLA0KICAgICAgICAgICAgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgc2libGluZ3NDb250ZW50LmNzcyh7DQogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICJub25lIg0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICApOw0KDQogICAgICAgIGlmIChwYW5lbC5oYXNDbGFzcygiYWN0aXZlIikpIHsNCiAgICAgICAgICAgIHZhciBzbGlkZVdpZHRoID0gYWNjb3JkaW9uLmhhc0NsYXNzKCJhY2NvcmRpb24taW1hZ2UiKQ0KICAgICAgICAgICAgICAgICAgICA/IGNvbnRlbnQub3V0ZXJXaWR0aCgpDQogICAgICAgICAgICAgICAgICAgIDogYWNjb3JkaW9uLndpZHRoKCkgLQ0KICAgICAgICAgICAgICAgICAgICAgICgoaXRlbXMubGVuZ3RoIC0gMSkgKiBwYW5lbC5vdXRlcldpZHRoKCkgKyAyKSwNCiAgICAgICAgICAgICAgICBjb250ZW50V2lkdGggPSBhY2NvcmRpb24uaGFzQ2xhc3MoImFjY29yZGlvbi1pbWFnZSIpDQogICAgICAgICAgICAgICAgICAgID8gc2xpZGVXaWR0aA0KICAgICAgICAgICAgICAgICAgICA6IHNsaWRlV2lkdGggLSBoZWFkZXIub3V0ZXJXaWR0aCgpOw0KDQogICAgICAgICAgICBwYW5lbC5zdG9wKHRydWUpLmFuaW1hdGUoDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB3aWR0aDogc2xpZGVXaWR0aA0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcHJvcGVydGllcy5zcGVlZCwNCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmVhc2luZywNCiAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHt9DQogICAgICAgICAgICApOw0KDQogICAgICAgICAgICBjb250ZW50LmNzcyh7DQogICAgICAgICAgICAgICAgd2lkdGg6IGNvbnRlbnRXaWR0aCwNCiAgICAgICAgICAgICAgICBkaXNwbGF5OiAiYmxvY2siDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHBhbmVsLnN0b3AodHJ1ZSkuYW5pbWF0ZSgNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAwDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnNwZWVkLA0KICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZWFzaW5nLA0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBjb250ZW50LmNzcyh7DQogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAibm9uZSINCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLyoqDQogICAgICogZ2V0UXVlcnlQYXJhbUtleSBnZXQgYW4gSWQgb2YgYWNjb3JkaW9uIGNvbXBvbmVudA0KICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6QWNjb3JkaW9uDQogICAgICogQHBhcmFtIHtqUXVlcnl9IGFjY29yZGlvbnMgIFJvb3QgRG9tIGVsZW1lbnQgb2YgYWNjb3JkaW9uIGNvbXBvbmVudA0KICAgICAqIEBwcml2YXRlDQogICAgICogQHJldHVybiB7bnVsbHxzdHJpbmd9IHJldHVybiBpZCBvZiBhY2NvcmRpb24gY29tcG9uZW50DQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbUtleShhY2NvcmRpb25zKSB7DQogICAgICAgIHZhciBmaXJzdEFjY29yZGlvbklkID0gYWNjb3JkaW9uc1swXS5pZDsNCiAgICAgICAgaWYgKGFjY29yZGlvbnMubGVuZ3RoID4gMCAmJiBmaXJzdEFjY29yZGlvbklkICE9ICIiKSB7DQogICAgICAgICAgICByZXR1cm4gZmlyc3RBY2NvcmRpb25JZC50b0xvY2FsZUxvd2VyQ2FzZSgpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBudWxsOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBhY2NvcmRpb24gbWV0aG9kIHRoYXQgc2V0cyB1cCB3YXRjaGVycyB0aGF0IGFuaW1hdGUgYWNjb3JkaW9uIHNsaWRlDQogICAgICogQG1lbWJlck9mIG1vZHVsZTpBY2NvcmRpb24NCiAgICAgKiBAbWV0aG9kDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gYWNjIFJvb3QgRE9NIGVsZW1lbnQgb2YgYXJjaGl2ZSBjb21wb25lbnQgd3JhcHBlZCBieSBqUXVlcnkNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcCBsaXN0IG9mIHByb3BlcnRpZXMgZm9yIGFjY29yZGlvbiBjb21wb25lbnQNCiAgICAgKiBAYWxpYXMgbW9kdWxlOkFjY29yZGlvbi5hY2NvcmRpb24NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhY2NvcmRpb24oYWNjLCBwcm9wZXJ0aWVzKSB7DQogICAgICAgIHZhciBldiA9ICJjbGljayIsDQogICAgICAgICAgICB0b2dnbGVIZWFkZXIgPSBhY2MuZmluZCgiLnRvZ2dsZS1oZWFkZXIiKS5maWx0ZXIoZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICQoZWxlbWVudCkuY2xvc2VzdCgnLmFjY29yZGlvbicpLmlzKGFjYyk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICBpZiAocHJvcGVydGllcy5leHBhbmRPbkhvdmVyKSB7DQogICAgICAgICAgICBldiArPSAiIG1vdXNlZW50ZXIiOw0KICAgICAgICB9DQoNCiAgICAgICAgdG9nZ2xlSGVhZGVyLm9uKCJtb3VzZW92ZXIiLCB0b29nbGVFdmVudHMuZm9jdXMpOw0KICAgICAgICB0b2dnbGVIZWFkZXIub24oIm1vdXNlbGVhdmUiLCB0b29nbGVFdmVudHMuYmx1cik7DQogICAgICAgIHRvZ2dsZUhlYWRlci5vbigiZm9jdXMiLCB0b29nbGVFdmVudHMuZm9jdXMpOw0KICAgICAgICB0b2dnbGVIZWFkZXIub24oImJsdXIiLCB0b29nbGVFdmVudHMuYmx1cik7DQogICAgICAgIHRvZ2dsZUhlYWRlci5vbigia2V5dXAiLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzIHx8IGUua2V5Q29kZSA9PSAzMikgew0KICAgICAgICAgICAgICAgICQodGhpcykuY2xpY2soKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKGFjYy5oYXNDbGFzcygiYWNjb3JkaW9uLWhvcml6b250YWwiKSkgew0KICAgICAgICAgICAgLy9jYWxjIHNsaWRlIHdpZHRoDQogICAgICAgICAgICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBjYWxjU2xpZGVTaXplKGFjYyk7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgXy5lYWNoKHRvZ2dsZUhlYWRlciwgZnVuY3Rpb24oaGVhZGVyKSB7DQogICAgICAgICAgICAgICAgaGVhZGVyQmFja2dyb3VuZChoZWFkZXIpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICB0b2dnbGVIZWFkZXIub24oZXYsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwNCiAgICAgICAgICAgICAgICBwYW5lbCA9ICR0aGlzLmNsb3Nlc3QoIi5pdGVtIiksDQogICAgICAgICAgICAgICAgYWNjb3JkaW9uID0gJHRoaXMucGFyZW50cygiLmFjY29yZGlvbiIpLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBwYW5lbC5maW5kKCIudG9nZ2xlLWNvbnRlbnQ6Zmlyc3QiKSwNCiAgICAgICAgICAgICAgICBzaWJsaW5ncyA9IHBhbmVsLnNpYmxpbmdzKCksDQogICAgICAgICAgICAgICAgc2libGluZ3NDb250ZW50ID0gc2libGluZ3MuZmluZCgiLnRvZ2dsZS1jb250ZW50Iik7DQoNCiAgICAgICAgICAgIC8vIEhvcml6b250YWwgYW5pbWF0aW9uDQogICAgICAgICAgICBpZiAoYWNjb3JkaW9uLmhhc0NsYXNzKCJhY2NvcmRpb24taG9yaXpvbnRhbCIpKSB7DQogICAgICAgICAgICAgICAgYXBpLmFuaW1hdGVIb3Jpem9udGFsLmNhbGwodGhpcywgcHJvcGVydGllcyk7DQogICAgICAgICAgICAgICAgLy8gVmVydGljYWwgYW5pbWF0aW9uDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vIENsb3NlcyBhbGwgb3RoZXIgaXRlbXMgaWYgb3Blbg0KICAgICAgICAgICAgICAgIC8vIG11bHRpcGxlIG9wdGlvbiBkaXNhYmxlZA0KICAgICAgICAgICAgICAgIGlmICghcHJvcGVydGllcy5jYW5PcGVuTXVsdGlwbGUpIHsNCiAgICAgICAgICAgICAgICAgICAgc2libGluZ3MucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpOw0KICAgICAgICAgICAgICAgICAgICBzaWJsaW5nc0NvbnRlbnQuc3RvcCgpLnNsaWRlVXAoew0KICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHByb3BlcnRpZXMuc3BlZWQsDQogICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHByb3BlcnRpZXMuZWFzaW5nDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHBhbmVsLnRvZ2dsZUNsYXNzKCJhY3RpdmUiKTsNCiAgICAgICAgICAgICAgICAvLyBUb2dnbGUgc3RhdGUgb2Ygc2VsZWN0ZWQgaXRlbQ0KICAgICAgICAgICAgICAgIC8vIElmIHRvZ2dsZSBzdGF0ZSBpcyBlbmFibGVkDQogICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuY2FuVG9nZ2xlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVUb2dnbGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHByb3BlcnRpZXMuc3BlZWQsDQogICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHByb3BlcnRpZXMuZWFzaW5nDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVEb3duKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBwcm9wZXJ0aWVzLnNwZWVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBwcm9wZXJ0aWVzLmVhc2luZw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBpbml0SW5zdGFuY2UgbWV0aG9kIHByZXBhcmUgRG9tIGVsZW1lbnRzIGFjY29yZGluZyBhY2NvcmRpb24gc2V0dXANCiAgICAgKiBhbmQgY2FsbCBbImFjY29yZGlvbiJde0BsaW5rIG1vZHVsZTpBY2NvcmRpb24uYWNjb3JkaW9ufSBtZXRob2QNCiAgICAgKiBAbWVtYmVyT2YgbW9kdWxlOkFjb3JkaW9uDQogICAgICogQG1ldGhvZA0KICAgICAqIEBwYXJhbSB7alF1ZXJ5fSBjb21wb25lbnQgUm9vdCBET00gZWxlbWVudCBvZiBhcmNoaXZlIGNvbXBvbmVudCB3cmFwcGVkIGJ5IGpRdWVyeQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wIGxpc3Qgb2YgcHJvcGVydGllcyBmb3IgYWNjb3JkaW9uIGNvbXBvbmVudA0KICAgICAqIEBhbGlhcyBtb2R1bGU6QWNjb3JkaW9uLmluaXRJbnN0YW5jZQ0KICAgICAqLw0KICAgIGFwaS5pbml0SW5zdGFuY2UgPSBmdW5jdGlvbihjb21wb25lbnQsIHByb3ApIHsNCiAgICAgICAgLy8gU2V0IHRhYmluZGV4PTAgZm9yIGZpcnN0IGhlYWRlcg0KICAgICAgICBjb21wb25lbnQNCiAgICAgICAgICAgIC5maW5kKCIudG9nZ2xlLWhlYWRlciIpDQogICAgICAgICAgICAuZXEoMCkNCiAgICAgICAgICAgIC5hdHRyKCJ0YWJpbmRleCIsICIwIik7DQogICAgICAgIC8vDQogICAgICAgIGlmIChjb21wb25lbnQuaGFzQ2xhc3MoInRvZ2dsZSIpKSB7DQogICAgICAgICAgICAkLmV4dGVuZChwcm9wLCB7DQogICAgICAgICAgICAgICAgY2FuVG9nZ2xlOiB0cnVlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBjb21wb25lbnQuZmluZCgiLnRvZ2dsZS1jb250ZW50IikuaGlkZSgpOw0KICAgICAgICB2YXIgY3VycmVudCA9IFhBLnF1ZXJ5U3RyaW5nLmdldFF1ZXJ5UGFyYW0oZ2V0UXVlcnlQYXJhbUtleShjb21wb25lbnQpKTsNCiAgICAgICAgaWYgKGN1cnJlbnQgIT0gbnVsbCkgew0KICAgICAgICAgICAgdmFyIGFyciA9IGN1cnJlbnQuc3BsaXQoIiwiKTsNCiAgICAgICAgICAgIHZhciBpdGVtcyA9IGNvbXBvbmVudC5maW5kKCJ1bCIpLmZpcnN0KCkuY2hpbGRyZW4oKTsNCiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBpdGVtcy5sZW5ndGg7IGluZGV4KyspIHsNCiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGl0ZW1zW2luZGV4XTsNCiAgICAgICAgICAgICAgICBpZiAoYXJyLmluZGV4T2YoaW5kZXggKyAiIikgPiAtMSkgew0KICAgICAgICAgICAgICAgICAgICAkKGVsZW1lbnQpLmFkZENsYXNzKCJhY3RpdmUiKTsNCiAgICAgICAgICAgICAgICAgICAgJChlbGVtZW50KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmZpbmQoIi50b2dnbGUtY29udGVudCIpDQogICAgICAgICAgICAgICAgICAgICAgICAuc2hvdygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmIChwcm9wLmV4cGFuZGVkQnlEZWZhdWx0KSB7DQogICAgICAgICAgICBjb21wb25lbnQuZmluZCgibGk6Zmlyc3QtY2hpbGQiKS5hZGRDbGFzcygiYWN0aXZlIik7DQogICAgICAgICAgICBjb21wb25lbnQNCiAgICAgICAgICAgICAgICAuZmluZCgibGk6Zmlyc3QtY2hpbGQiKQ0KICAgICAgICAgICAgICAgIC5maW5kKCIudG9nZ2xlLWNvbnRlbnQiKQ0KICAgICAgICAgICAgICAgIC5zaG93KCk7DQogICAgICAgIH0NCiAgICAgICAgYWNjb3JkaW9uKGNvbXBvbmVudCwgcHJvcCk7DQogICAgfTsNCiAgICAvKioNCiAgICAgKiBpbml0IG1ldGhvZCBjYWxscyBpbiBhIGxvb3AgZm9yIGVhY2gNCiAgICAgKiBhY2NvcmRpb25zIGNvbXBvbmVudCBvbiBhIHBhZ2UgYW5kIHJ1biBBY2NvcmRpb25zDQogICAgICogWyIuaW5pdEluc3RhbmNlIl17QGxpbmsgbW9kdWxlOkFjY29yZGlvbi5pbml0SW5zdGFuY2V9IG1ldGhvZC4NCiAgICAgKiBAbWVtYmVyT2YgbW9kdWxlOkFjY29yZGlvbg0KICAgICAqIEBhbGlhcyBtb2R1bGU6QWNjb3JkaW9uLmluaXQNCiAgICAgKi8NCiAgICBhcGkuaW5pdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgYWNjb3JkaW9ucyA9ICQoIi5hY2NvcmRpb246bm90KC5pbml0aWFsaXplZCkiKTsNCiAgICAgICAgYWNjb3JkaW9ucy5lYWNoKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSAkKHRoaXMpLmRhdGEoInByb3BlcnRpZXMiKSwNCiAgICAgICAgICAgICAgICBhY2MgPSAkKHRoaXMpOw0KICAgICAgICAgICAgYXBpLmluaXRJbnN0YW5jZShhY2MsIHByb3BlcnRpZXMpOw0KICAgICAgICAgICAgYWNjLmFkZENsYXNzKCJpbml0aWFsaXplZCIpOw0KICAgICAgICB9KTsNCiAgICB9Ow0KDQogICAgcmV0dXJuIGFwaTsNCn0pKGpRdWVyeSk7DQoNClhBLnJlZ2lzdGVyKCJhY2NvcmRpb25zIiwgWEEuY29tcG9uZW50LmFjY29yZGlvbnMpOw0K
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 11286
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20180226T092227Z
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "09e4e8af-f978-4503-848d-524bf32a7ad4"
