---
ID: "e133037d-5b3e-4a10-8f63-2613e4189eca"
Parent: "dfcbfa5a-2e37-418a-adb7-f411ecae89a9"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/SearchTheme/Scripts/component-search-location-filter"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/E133037D5B3E4A108F632613E4189ECA.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "e133037d-5b3e-4a10-8f63-2613e4189eca"
  Value: 77u/LyoqCiAqIExvY2F0aW9uIGZpbHRlciBjb21wb25lbnQgZnVuY3Rpb25hbGl0eQogKiBAbW9kdWxlIGxvY2F0aW9uZmlsdGVyCiAqIEBwYXJhbSAge2pRdWVyeX0gJCBJbnN0YW5jZSBvZiBqUXVlcnkKICogQHBhcmFtICB7RG9jdW1lbnR9IGRvY3VtZW50IGRvbSBkb2N1bWVudCBvYmplY3QKICogQHJldHVybiB7T2JqZWN0fSBsaXN0IG9mIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBsb2NhdGlvbiBmaWx0ZXIKICovClhBLmNvbXBvbmVudC5zZWFyY2gubG9jYXRpb25maWx0ZXIgPSAoZnVuY3Rpb24gKCQsIGRvY3VtZW50KSB7CiAgICAidXNlIHN0cmljdCI7CiAgICAvKioKICAgICAqIFRoaXMgb2JqZWN0IHN0b3JlcyBhbGwgcHVibGljIGFwaSBtZXRob2RzCiAgICAgKiBAdHlwZSB7T2JqZWN0LjxNZXRob2RzPn0KICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6bG9jYXRpb25maWx0ZXIKICAgICAqLwogICAgdmFyIGFwaSA9IHt9LAogICAgICBsb2NhdGlvbkZpbHRlcnMgPSBbXSwKICAgICAgdmlld3MgPSBbXSwKICAgICAgcXVlcnlNb2RlbCwKICAgICAgdXJsSGVscGVyTW9kZWwsCiAgICAgIHNjcmlwdHNMb2FkZWQgPSBmYWxzZSwKICAgICAgbWFwc0Nvbm5lY3RvciA9IFhBLmNvbm5lY3Rvci5tYXBzQ29ubmVjdG9yLAogICAgICBMb2NhdGlvbkZpbHRlck1vZGVsLAogICAgICBMb2NhdGlvbkZpbHRlclZpZXcsCiAgICAgIGluaXRpYWxpemU7CiAgICAvKioKICAgICAqIEBtZW1iZXJPZiBtb2R1bGU6bG9jYXRpb25maWx0ZXIKICAgICAqIEBhbGlhcyBtb2R1bGU6bG9jYXRpb25maWx0ZXIuaW5pdGlhbGl6ZQogICAgICogRm9yIGVhY2ggbG9jYXRpb24gZmlsdGVyIGNvbXBvbmVudCBvbiBhIHBhZ2UgY3JlYXRlcyBpbnN0YW5jZSBvZgogICAgICogWyJMb2NhdGlvbkZpbHRlck1vZGVsIl17QGxpbmsgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyTW9kZWx9IGFuZAogICAgICogWyJMb2NhdGlvbkZpbHRlclZpZXciXXtAbGluayBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3fQogICAgICogQHByaXZhdGUKICAgICAqLwogICAgaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGksIHZpZXc7CiAgICAgIGZvciAoaSA9IDA7IGkgPCBsb2NhdGlvbkZpbHRlcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAvL2NyZWF0ZXMgQmFja2JvbmUuanMgdmlld3MgLSBvbmUgdmlldyBwZXIgY29tcG9uZW50IG9uIHRoZSBwYWdlCiAgICAgICAgdmlldyA9IG5ldyBMb2NhdGlvbkZpbHRlclZpZXcoewogICAgICAgICAgZWw6IGxvY2F0aW9uRmlsdGVyc1tpXSwKICAgICAgICAgIG1vZGVsOiBuZXcgTG9jYXRpb25GaWx0ZXJNb2RlbCgpLAogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogICAgLyoqCiAgICAgKiBAbmFtZSBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJNb2RlbAogICAgICogQGNvbnN0cnVjdG9yCiAgICAgKiBAYXVnbWVudHMgQmFja2JvbmUuTW9kZWwKICAgICAqLwogICAgTG9jYXRpb25GaWx0ZXJNb2RlbCA9IEJhY2tib25lLk1vZGVsLmV4dGVuZCgKICAgICAgLyoqIEBsZW5kcyBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJNb2RlbC5wcm90b3R5cGUgKiovCiAgICAgIHsKICAgICAgICAvKioKICAgICAgICAgKiBEZWZhdWx0IG1vZGVsIG9wdGlvbnMKICAgICAgICAgKiBAZGVmYXVsdAogICAgICAgICAqLwogICAgICAgIGRlZmF1bHRzOiB7CiAgICAgICAgICBkYXRhUHJvcGVydGllczoge30sCiAgICAgICAgICBzaWc6IFtdLAogICAgICAgIH0sCiAgICAgIH0KICAgICk7CiAgICAvKioKICAgICAqIEBuYW1lIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcKICAgICAqIEBjb25zdHJ1Y3RvcgogICAgICogQGF1Z21lbnRzIEJhY2tib25lLlZpZXcKICAgICAqLwogICAgTG9jYXRpb25GaWx0ZXJWaWV3ID0gWEEuY29tcG9uZW50LnNlYXJjaC5iYXNlVmlldy5leHRlbmQoCiAgICAgIC8qKiBAbGVuZHMgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldy5wcm90b3R5cGUgKiovCiAgICAgIHsKICAgICAgICAvKioKICAgICAgICAgKiBJbml0aWFsbHkgc2V0cyBkYXRhIHRvIG1vZGVsLCBpbml0aWFsaXplcyBhdXRvY29tcGxldGUuanMsIGFuZCB3YXRjaGVzIGV2ZW50cyBvbiB3aGljaAogICAgICAgICAqIHZpZXcgc2hvdWxkIGJlIHVwZGF0ZWQKICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldwogICAgICAgICAqLwogICAgICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBpbnN0ID0gdGhpcywKICAgICAgICAgICAgYXV0b2NvbXBsZXRlID0ge30sCiAgICAgICAgICAgIGRhdGFQcm9wZXJ0aWVzID0gdGhpcy4kZWwuZGF0YSgpLAogICAgICAgICAgICAkdGV4dEJveCA9IHRoaXMuJGVsLmZpbmQoIi5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0IiksCiAgICAgICAgICAgIHNpZ25hdHVyZXMgPQogICAgICAgICAgICAgIGRhdGFQcm9wZXJ0aWVzLnByb3BlcnRpZXMuc2VhcmNoUmVzdWx0c1NpZ25hdHVyZS5zcGxpdCgiLCIpOwogIAogICAgICAgICAgaWYgKGRhdGFQcm9wZXJ0aWVzLnByb3BlcnRpZXMuc2VhcmNoUmVzdWx0c1NpZ25hdHVyZSA9PT0gbnVsbCkgewogICAgICAgICAgICBkYXRhUHJvcGVydGllcy5wcm9wZXJ0aWVzLnNlYXJjaFJlc3VsdHNTaWduYXR1cmUgPSAiIjsKICAgICAgICAgIH0KICAKICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsgZGF0YVByb3BlcnRpZXM6IGRhdGFQcm9wZXJ0aWVzLnByb3BlcnRpZXMgfSk7CiAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IHNpZzogc2lnbmF0dXJlcyB9KTsKICAgICAgICAgIHRoaXMubW9kZWwuc2V0KHsKICAgICAgICAgICAgcXVlcnlQYXJhbXM6IHsgbWF4UmVzdWx0czogZGF0YVByb3BlcnRpZXMucHJvcGVydGllcy5wLCB0ZXh0OiAiIiB9LAogICAgICAgICAgfSk7CiAgCiAgICAgICAgICBhdXRvY29tcGxldGUgPSBuZXcgYXV0b0NvbXBsZXRlKHsKICAgICAgICAgICAgc2VsZWN0b3I6ICgpID0+IHRoaXMuJGVsLmZpbmQoIi5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0IilbMF0sCiAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICBzcmM6IGZ1bmN0aW9uIChxdWVyeSkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0TWFwcyA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhUHJvcGVydGllcy5wcm9wZXJ0aWVzLnApIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgLy8gTG9hZGluZyBwbGFjZWhvbGRlciB0ZXh0CiAgICAgICAgICAgICAgICAgICAgdmFyIHF1ZXJ5UGFyYW1zID0gT2JqZWN0LmFzc2lnbih7fSwgaW5zdC5tb2RlbC5nZXQoInF1ZXJ5UGFyYW1zIikpOwogICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLnRleHQgPSBxdWVyeTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKCFxdWVyeVBhcmFtcy50ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFwc0Nvbm5lY3Rvci5sb2NhdGlvbkF1dG9jb21wbGV0ZSgKICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLAogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSwKICAgICAgICAgICAgICAgICAgICAgIHJlamVjdAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0TWFwczsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGtleXM6IFsidGV4dCJdLAogICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhyZXNob2xkOiAyLAogICAgICAgICAgICBzZWFyY2hFbmdpbmU6ICJsb29zZSIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBkYXRhUHJvcGVydGllcy5teUxvY2F0aW9uVGV4dCwKICAgICAgICAgICAgcmVzdWx0c0xpc3Q6IHsKICAgICAgICAgICAgICB0YWc6ICJkaXYiLAogICAgICAgICAgICAgIGNsYXNzOiAiYXV0b2NvbXBsZXRlLW1lbnUgYXV0b2NvbXBsZXRlLW1lbnVfX2Fic29sdXRlIiwKICAgICAgICAgICAgICBkZXN0aW5hdGlvbjogKCkgPT4gdGhpcy4kZWwuZmluZCgiLmxvY2F0aW9uLXNlYXJjaC1ib3gtaW5wdXQiKVswXSwKICAgICAgICAgICAgICBtYXhSZXN1bHRzOiBpbnN0Lm1vZGVsLmdldCgiZGF0YVByb3BlcnRpZXMiKS5wLAogICAgICAgICAgICAgIHRhYlNlbGVjdDogZmFsc2UsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc3VsdEl0ZW06IHsKICAgICAgICAgICAgICB0YWc6ICJkaXYiLAogICAgICAgICAgICAgIGNsYXNzOgogICAgICAgICAgICAgICAgInN1Z2Vzc3Rpb24taXRlbSBhdXRvY29tcGxldGUtc3VnZ2VzdGlvbiBhdXRvY29tcGxldGUtc2VsZWN0YWJsZSIsCiAgICAgICAgICAgICAgc2VsZWN0ZWQ6ICJhdXRvY29tcGxldGUtY3Vyc29yIiwKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXZlbnRzOiB7CiAgICAgICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgICAgIGZvY3VzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIGlmIChhdXRvY29tcGxldGUuaW5wdXQudmFsdWUubGVuZ3RoKSBhdXRvY29tcGxldGUuc3RhcnQoKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgfSwKICAgICAgICAgIH0pOwogICAgICAgICAgYXV0b2NvbXBsZXRlLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbiIsIChldmVudCkgPT4gewogICAgICAgICAgICB2YXIgZGF0YSA9IGV2ZW50ICYmIGV2ZW50LmRldGFpbCAmJiBldmVudC5kZXRhaWwuc2VsZWN0aW9uID8gZXZlbnQuZGV0YWlsLnNlbGVjdGlvbi52YWx1ZSA6IHVuZGVmaW5lZDsKICAgICAgICAgICAgdmFyIHRleHQgPSBkYXRhID8gZGF0YS50ZXh0IDogdW5kZWZpbmVkOwogICAgICAgICAgICBpbnN0LnRyYW5zbGF0ZVVzZXJMb2NhdGlvbih0ZXh0KTsKICAgICAgICAgICAgJHRleHRCb3gudmFsKHRleHQpOwogICAgICAgICAgfSk7CiAgCiAgICAgICAgICB0aGlzLmFkZHJlc3NMb29rdXAodHJ1ZSk7CiAgCiAgICAgICAgICBYQS5jb21wb25lbnQuc2VhcmNoLnZlbnQub24oImhhc2hDaGFuZ2VkIiwgZnVuY3Rpb24gKGhhc2gpIHsKICAgICAgICAgICAgdmFyIGFkZHJlc3MgPQogICAgICAgICAgICAgIGhhc2hbCiAgICAgICAgICAgICAgICBzaWduYXR1cmVzLmxlbmd0aCA+IDAgJiYgc2lnbmF0dXJlc1swXSAhPT0gIiIKICAgICAgICAgICAgICAgICAgPyBzaWduYXR1cmVzWzBdICsgIl9hIgogICAgICAgICAgICAgICAgICA6ICJhIgogICAgICAgICAgICAgIF07CiAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICB0eXBlb2YgYWRkcmVzcyAhPT0gInVuZGVmaW5lZCIgJiYKICAgICAgICAgICAgICBhZGRyZXNzICE9PSBudWxsICYmCiAgICAgICAgICAgICAgYWRkcmVzcyAhPT0gIiIKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgJHRleHRCb3gudmFsKGFkZHJlc3MpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIGxpc3Qgb2YgZXZlbnRzIGZvciBCYWNrYm9uZSBWaWV3CiAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcKICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldyNldmVudHMKICAgICAgICAgKi8KICAgICAgICBldmVudHM6IHsKICAgICAgICAgICJjbGljayAubG9jYXRpb24tc2VhcmNoLWJveC1idXR0b24iOiAiYWRkcmVzc0xvb2t1cCIsCiAgICAgICAgICAia2V5cHJlc3MgLmxvY2F0aW9uLXNlYXJjaC1ib3gtaW5wdXQiOiAic2VhcmNoVGV4dENoYW5nZXMiLAogICAgICAgICAgImtleXVwIC5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0IjogImF1dG9jb21wbGV0ZSIsCiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiBMb29rcyBmb3IgYW4gYWRkcmVzcyBiYXNlZCBvbiBhIHZhbHVlIHRoYXQgaXMgc3BlY2lmaWVkIGJ5IHVzZXIKICAgICAgICAgKiBpbiBpbnB1dAogICAgICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3CiAgICAgICAgICogQGFsaWFzIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcjYWRkcmVzc0xvb2t1cAogICAgICAgICAqLwogICAgICAgIGFkZHJlc3NMb29rdXA6IGZ1bmN0aW9uIChpc0luaXRpYWxSZW5kZXIpIHsKICAgICAgICAgIHZhciBwcm9wZXJ0aWVzID0gdGhpcy5tb2RlbC5nZXQoImRhdGFQcm9wZXJ0aWVzIiksCiAgICAgICAgICAgIGxvb2t1cFF1ZXJ5ID0gewogICAgICAgICAgICAgIHRleHQ6IHRoaXMuZ2V0QWRkcmVzcyhpc0luaXRpYWxSZW5kZXIpLAogICAgICAgICAgICAgIG1heFJlc3VsdHM6IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhhc2hPYmo7CiAgCiAgICAgICAgICBpZiAobG9va3VwUXVlcnkudGV4dCA9PT0gIiIpIHsKICAgICAgICAgICAgaGFzaE9iaiA9IHRoaXMuY3JlYXRlSGFzaE9iamVjdCgiIiwgIiIsICIiKTsKICAgICAgICAgICAgdGhpcy51cGRhdGVIYXNoKGhhc2hPYmosIHByb3BlcnRpZXMpOwogICAgICAgICAgfQogIAogICAgICAgICAgc3dpdGNoIChwcm9wZXJ0aWVzLm1vZGUpIHsKICAgICAgICAgICAgY2FzZSAiTG9jYXRpb24iOiB7CiAgICAgICAgICAgICAgLy9Vc2VzIGJyb3dzZXIgdG8gZGV0ZWN0IGxvY2F0aW9uCiAgICAgICAgICAgICAgdGhpcy5kZXRlY3RMb2NhdGlvbigpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgIlVzZXJQcm92aWRlZCI6IHsKICAgICAgICAgICAgICAvL1Rha2VzIGFkZHJlc3MgZW50ZXJlZCBieSB1c2VyIGFuZCB0cmllcyB0byBjb252ZXJ0IGl0IHRvIGxhdGl0dWRlIGFuZCBsb25naXR1ZGUKICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZVVzZXJMb2NhdGlvbihsb29rdXBRdWVyeSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSAiTWl4ZWQiOiB7CiAgICAgICAgICAgICAgLy9Vc2VzIHVzZXIgYWRkcmVzcyBvciB0cmllcyB0byBkZXRlY3QgbG9jYXRpb24gYnkgYnJvd3NlcgogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIHR5cGVvZiBsb29rdXBRdWVyeS50ZXh0ID09PSAidW5kZWZpbmVkIiB8fAogICAgICAgICAgICAgICAgbG9va3VwUXVlcnkudGV4dCA9PT0gIiIKICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgIHRoaXMuZGV0ZWN0TG9jYXRpb24oKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVVc2VyTG9jYXRpb24obG9va3VwUXVlcnkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICogR2V0IEFkZHJlc3MgZnJvbSBpbnB1dCBvciBmcm9tIGhhc2gKICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldwogICAgICAgICAqIEBhbGlhcyBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3I2dldEFkZHJlc3MKICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBhZGRyZXNzIGZyb20gaW5wdXQgb3IgaGFzaAogICAgICAgICAqLwogICAgICAgIGdldEFkZHJlc3M6IGZ1bmN0aW9uIChpc0luaXRpYWxSZW5kZXIpIHsKICAgICAgICAgIHZhciAkdGV4dEJveCA9IHRoaXMuJGVsLmZpbmQoIi5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0IiksCiAgICAgICAgICAgIHRleHQgPSAkdGV4dEJveC52YWwoKSwKICAgICAgICAgICAgaGFzaCA9IHF1ZXJ5TW9kZWwucGFyc2VIYXNoUGFyYW1ldGVycyh3aW5kb3cubG9jYXRpb24uaGFzaCksCiAgICAgICAgICAgIHNpZ25hdHVyZXMgPSB0aGlzLm1vZGVsLmdldCgic2lnIiksCiAgICAgICAgICAgIGFkZHJlc3M7CiAgCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIGlzSW5pdGlhbFJlbmRlciAhPT0gdHJ1ZSAmJgogICAgICAgICAgICAodGV4dCA9PT0gIiIgfHwgdHlwZW9mIHRleHQgPT09ICJ1bmRlZmluZWQiKQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgIH0KICAKICAgICAgICAgIGlmICh0ZXh0ID09PSAiIiB8fCB0eXBlb2YgdGV4dCA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgYWRkcmVzcyA9CiAgICAgICAgICAgICAgaGFzaFsKICAgICAgICAgICAgICAgIHNpZ25hdHVyZXMubGVuZ3RoID4gMCAmJiBzaWduYXR1cmVzWzBdICE9PSAiIgogICAgICAgICAgICAgICAgICA/IHNpZ25hdHVyZXNbMF0gKyAiX2EiCiAgICAgICAgICAgICAgICAgIDogImEiCiAgICAgICAgICAgICAgXTsKICAgICAgICAgICAgaWYgKGFkZHJlc3MgIT09ICIiKSB7CiAgICAgICAgICAgICAgdGV4dCA9IGFkZHJlc3M7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHR5cGVvZiB0ZXh0ID09PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIHRleHQgPSAiIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogIAogICAgICAgICAgcmV0dXJuIHRleHQ7CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiBHZXRzIHRleHQgc2VsZWN0ZWQgZnJvbSBhdXRvY29tcGxldGVKUyBzdWdnZXN0aW9uIGFuZCBzZXRzIHRvIG1vZGVsCiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gYXJncyBFdmVudCBvYmplY3QKICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldwogICAgICAgICAqIEBhbGlhcyBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3I2F1dG9jb21wbGV0ZQogICAgICAgICAqLwogICAgICAgIGF1dG9jb21wbGV0ZTogZnVuY3Rpb24gKGFyZ3MpIHsKICAgICAgICAgIHZhciAkdGV4dEJveCwKICAgICAgICAgICAgcXVlcnlQYXJhbXMsCiAgICAgICAgICAgIHByb3BlcnRpZXMgPSB0aGlzLm1vZGVsLmdldCgiZGF0YVByb3BlcnRpZXMiKTsKICAKICAgICAgICAgIGFyZ3Muc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBpZiAoYXJncy5rZXlDb2RlID09PSAxMykgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgCiAgICAgICAgICAkdGV4dEJveCA9IHRoaXMuJGVsLmZpbmQoIi5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0Iik7CiAgCiAgICAgICAgICBxdWVyeVBhcmFtcyA9IHsKICAgICAgICAgICAgdGV4dDogJHRleHRCb3gudmFsKCksCiAgICAgICAgICAgIG1heFJlc3VsdHM6IHByb3BlcnRpZXMucCwKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLm1vZGVsLnNldCh7IHF1ZXJ5UGFyYW1zOiBxdWVyeVBhcmFtcyB9KTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIElmIGVudGVyIHdhcyBwcmVzc2VkLCBtZXRob2QgY2FsbHMgWyJhZGRyZXNzTG9va3VwIl17QGxpbmsgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLmFkZHJlc3NMb29rdXB9CiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QKICAgICAgICAgKiBAbWVtYmVyb2YgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldwogICAgICAgICAqIEBhbGlhcyBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3I3NlYXJjaFRleHRDaGFuZ2VzCiAgICAgICAgICogQHJldHVybnMge0Jvb2xlYW59ICBGYWxzZSBpZiBwcmVzc2VkIGVudGVyLiBBbGwgb3RoZXIgY2FzZXM6IFRydWUKICAgICAgICAgKi8KICAgICAgICBzZWFyY2hUZXh0Q2hhbmdlczogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykgewogICAgICAgICAgICB0aGlzLmFkZHJlc3NMb29rdXAoZmFsc2UpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIExvb2tzIGZvciBhbiBhZGRyZXNzIGFuZCBjYWxscyBbIlhBLmNvbm5lY3Rvci5tYXBzQ29ubmVjdG9yLmFkZHJlc3NMb29rdXAiXXtAbGluayBtb2R1bGU6WEEuY29ubmVjdG9yLm1hcHNDb25uZWN0b3IuYWRkcmVzc0xvb2t1cH0KICAgICAgICAgKiBAcGFyYW0ge2pRdWVyeTxEb21FbGVtZW50Pn0gbG9va3VwUXVlcnkgRWxlbWVudCB3aGVyZSBzdG9yZWQgdGV4dCBmb3Igc2VhcmNoIGxvY2F0aW9uCiAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcKICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldyN0cmFuc2xhdGVVc2VyTG9jYXRpb24KICAgICAgICAgKi8KICAgICAgICB0cmFuc2xhdGVVc2VyTG9jYXRpb246IGZ1bmN0aW9uIChsb29rdXBRdWVyeSkgewogICAgICAgICAgdmFyIHRoYXQgPSB0aGlzLAogICAgICAgICAgICBwcm9wZXJ0aWVzID0gdGhpcy5tb2RlbC5nZXQoImRhdGFQcm9wZXJ0aWVzIiksCiAgICAgICAgICAgIHRleHQgPQogICAgICAgICAgICAgIHR5cGVvZiBsb29rdXBRdWVyeS50ZXh0ICE9PSAidW5kZWZpbmVkIgogICAgICAgICAgICAgICAgPyBsb29rdXBRdWVyeS50ZXh0CiAgICAgICAgICAgICAgICA6IGxvb2t1cFF1ZXJ5LAogICAgICAgICAgICAkdGV4dEJveCA9IHRoaXMuJGVsLmZpbmQoIi5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0IiksCiAgICAgICAgICAgIGhhc2hPYmogPSB7fTsKICAKICAgICAgICAgIGlmICh0ZXh0ID09PSAiIikgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgCiAgICAgICAgICBtYXBzQ29ubmVjdG9yLmFkZHJlc3NMb29rdXAoCiAgICAgICAgICAgIHsgdGV4dDogdGV4dCB9LAogICAgICAgICAgICBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIGhhc2hPYmogPSB0aGF0LmNyZWF0ZUhhc2hPYmplY3QoCiAgICAgICAgICAgICAgICBkYXRhWzBdICsgInwiICsgZGF0YVsxXSwKICAgICAgICAgICAgICAgIHByb3BlcnRpZXMuZiArICIsQXNjZW5kaW5nIgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgdGhhdC51cGRhdGVIYXNoKGhhc2hPYmosIHByb3BlcnRpZXMpOwogICAgICAgICAgICB9LAogICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3Igd2hpbGUgZ2V0dGluZyAnIiArIHRleHQgKyAiJyBsb2NhdGlvbiIpOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgICAgJHRleHRCb3guYmx1cigpOwogICAgICAgICAgaWYgKCR0ZXh0Qm94LnZhbCgpID09PSAiIikgewogICAgICAgICAgICAkdGV4dEJveC52YWwodGV4dCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvKioKICAgICAgICAgKiBDYWxsIFsibG9jYXRpb25TZXJ2aWNlLmFkZHJlc3NMb29rdXAiXXtAbGluayBtb2R1bGU6bG9jYXRpb25TZXJ2aWNlLmRldGVjdExvY2F0aW9ufQogICAgICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3CiAgICAgICAgICogQGFsaWFzIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcjZGV0ZWN0TG9jYXRpb24KICAgICAgICAgKi8KICAgICAgICBkZXRlY3RMb2NhdGlvbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSB0aGlzLm1vZGVsLmdldCgiZGF0YVByb3BlcnRpZXMiKSwKICAgICAgICAgICAgJHRleHRCb3ggPSB0aGlzLiRlbC5maW5kKCIubG9jYXRpb24tc2VhcmNoLWJveC1pbnB1dCIpLAogICAgICAgICAgICB0aGF0ID0gdGhpcywKICAgICAgICAgICAgaGFzaE9iaiA9IHt9OwogIAogICAgICAgICAgWEEuY29tcG9uZW50LmxvY2F0aW9uU2VydmljZS5kZXRlY3RMb2NhdGlvbigKICAgICAgICAgICAgZnVuY3Rpb24gKGxvY2F0aW9uKSB7CiAgICAgICAgICAgICAgaGFzaE9iaiA9IHRoYXQuY3JlYXRlSGFzaE9iamVjdCgKICAgICAgICAgICAgICAgIGxvY2F0aW9uWzBdICsgInwiICsgbG9jYXRpb25bMV0sCiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLmYgKyAiLEFzY2VuZGluZyIKICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIHRoYXQudXBkYXRlSGFzaC5jYWxsKHRoYXQsIGhhc2hPYmosIHByb3BlcnRpZXMpOwogICAgICAgICAgICAgIGlmICgkdGV4dEJveC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAkdGV4dEJveC5hdHRyKCJwbGFjZWhvbGRlciIsIHByb3BlcnRpZXMubXlMb2NhdGlvblRleHQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yTWVzc2FnZSkgewogICAgICAgICAgICAgIC8vRG8gbm90IHVwZGF0ZSB0aGUgaGFzaCBpbiBhbnkgd2F5IHdoZW4gdGhlIGxvY2F0aW9uIGlzIG5vdCBhdmFpbGFibGUKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgLyoqCiAgICAgICAgICogVXBkYXRlcyBoYXNoIGFjY29yZGluZyB0byBzZXR1cCBvZiBjb21wb25lbnQgYW5kIHNlbGVjdGVkIHZhbHVlcyBieSB1c2VyCiAgICAgICAgICogQG1lbWJlcm9mIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcKICAgICAgICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLkxvY2F0aW9uRmlsdGVyVmlldyN1cGRhdGVIYXNoCiAgICAgICAgICovCiAgICAgICAgdXBkYXRlSGFzaDogZnVuY3Rpb24gKHBhcmFtcywgcHJvcGVydGllcykgewogICAgICAgICAgdmFyIHNpZyA9IHRoaXMubW9kZWwuZ2V0KCJzaWciKSwKICAgICAgICAgICAgc2lnbmF0dXJlLAogICAgICAgICAgICBzZWFyY2hNb2RlbHMgPQogICAgICAgICAgICAgIHR5cGVvZiBYQS5jb21wb25lbnQuc2VhcmNoICE9PSAidW5kZWZpbmVkIgogICAgICAgICAgICAgICAgPyBYQS5jb21wb25lbnQuc2VhcmNoLnJlc3VsdHMuc2VhcmNoUmVzdWx0TW9kZWxzCiAgICAgICAgICAgICAgICA6IFtdLAogICAgICAgICAgICAkdGV4dEJveCA9IHRoaXMuJGVsLmZpbmQoIi5sb2NhdGlvbi1zZWFyY2gtYm94LWlucHV0IiksCiAgICAgICAgICAgIHRleHQgPSAkdGV4dEJveC52YWwoKSwKICAgICAgICAgICAgaSwKICAgICAgICAgICAgajsKICAKICAgICAgICAgIC8vQ2xlYXJzIGxvYWQgbW9yZSBvZmZzZXQgaW4gZWFjaCBvZiBzZWFyY2ggcmVzdWx0cyB3aXRoIHRoZSBzYW1lIHNpZ25hdHVyZSB3aGVuIGxvY2F0aW9uIGlzIGNoYW5nZWQKICAgICAgICAgIC8vTm93LCB0aGlzIGlzIG5lZWRlZCB0byBjbGVhciBvZmZzZXQgYnV0IHNob3VsZCBiZSBoYW5kbGUgaW4gc2VhcmNoIHNlcnZpY2UgaW4gdGhlIGZ1dHVyZQogICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNlYXJjaE1vZGVscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgc2lnLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgc2lnbmF0dXJlID0gc2lnW2pdOwogICAgICAgICAgICAgIGlmIChzZWFyY2hNb2RlbHNbaV0uZ2V0KCJkYXRhUHJvcGVydGllcyIpLnNpZyA9PT0gc2lnbmF0dXJlKSB7CiAgICAgICAgICAgICAgICBzZWFyY2hNb2RlbHNbaV0uc2V0KCJsb2FkTW9yZU9mZnNldCIsIDApOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogIAogICAgICAgICAgaWYgKHRleHQgIT09IG51bGwgJiYgdGV4dCAhPT0gIiIpIHsKICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNpZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHNpZ25hdHVyZSA9IHNpZ1tpXTsKICAgICAgICAgICAgICBwYXJhbXNbc2lnbmF0dXJlICE9PSAiIiA/IHNpZ25hdHVyZSArICJfYSIgOiAiYSJdID0gdGV4dDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogIAogICAgICAgICAgcXVlcnlNb2RlbC51cGRhdGVIYXNoKHBhcmFtcywgcHJvcGVydGllcy50YXJnZXRVcmwpOwogICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNpZy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBYQS5jb21wb25lbnQuc2VhcmNoLnZlbnQudHJpZ2dlcigibXktbG9jYXRpb24tY29vcmRpbmF0ZXMtY2hhbmdlZCIsIHsKICAgICAgICAgICAgICBzaWc6IHNpZ1tpXSwKICAgICAgICAgICAgICBjb29yZGluYXRlczogcGFyYW1zW3NpZ1tpXSAhPT0gIiIgPyBzaWdbaV0gKyAiX2ciIDogImciXS5zcGxpdCgifCIpLAogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8qKgogICAgICAgICAqIFVwZGF0ZXMgaGFzaCBhY2NvcmRpbmcgdG8gc2V0dXAgb2YgY29tcG9uZW50IGFuZCBzZWxlY3RlZCB2YWx1ZXMgYnkgdXNlcgogICAgICAgICAqIEBtZW1iZXJvZiBtb2R1bGU6bG9jYXRpb25maWx0ZXIuTG9jYXRpb25GaWx0ZXJWaWV3CiAgICAgICAgICogQGFsaWFzIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5Mb2NhdGlvbkZpbHRlclZpZXcjdXBkYXRlSGFzaAogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBnIGxvY2F0aW9uCiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IG8gZmFjZXQgbmFtZSBhbmQgc29ydCBtZXRob2QKICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBoYXNoIGFzIGFuIG9iamVjdAogICAgICAgICAqLwogICAgICAgIGNyZWF0ZUhhc2hPYmplY3Q6IGZ1bmN0aW9uIChnLCBvLCBhKSB7CiAgICAgICAgICB2YXIgc2lnID0gdGhpcy5tb2RlbC5nZXQoInNpZyIpLAogICAgICAgICAgICBzaWduYXR1cmUsCiAgICAgICAgICAgIGhhc2hPYmogPSB7fSwKICAgICAgICAgICAgaTsKICAKICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBzaWcubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgc2lnbmF0dXJlID0gc2lnW2ldOwogICAgICAgICAgICBoYXNoT2JqW3NpZ25hdHVyZSAhPT0gIiIgPyBzaWduYXR1cmUgKyAiX2ciIDogImciXSA9IGc7CiAgICAgICAgICAgIGhhc2hPYmpbc2lnbmF0dXJlICE9PSAiIiA/IHNpZ25hdHVyZSArICJfbyIgOiAibyJdID0gbzsKICAgICAgICAgICAgaWYgKHR5cGVvZiBhICE9PSAidW5kZWZpbmVkIikgewogICAgICAgICAgICAgIGhhc2hPYmpbc2lnbmF0dXJlICE9PSAiIiA/IHNpZ25hdHVyZSArICJfYSIgOiAiYSJdID0gYTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogIAogICAgICAgICAgcmV0dXJuIGhhc2hPYmo7CiAgICAgICAgfSwKICAgICAgfQogICAgKTsKICAgIC8qKgogICAgICogRmlsbHMgbG9jYXRpb25GaWx0ZXJzIHZhcmlhYmxlIHdpdGggbG9jYXRpb24gZmlsdGVyIGNvbXBvbmVudHMsCiAgICAgKiBhbmQgbG9hZHMgc2NyaXB0IGZvciBwcm9wZXIgbWFwIHByb3ZpZGVyCiAgICAgKiBAbWVtYmVyT2YgbW9kdWxlOmxvY2F0aW9uZmlsdGVyCiAgICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLmluaXQKICAgICAqLwogICAgYXBpLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICgkKCJib2R5IikuaGFzQ2xhc3MoIm9uLXBhZ2UtZWRpdG9yIikpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAKICAgICAgcXVlcnlNb2RlbCA9IFhBLmNvbXBvbmVudC5zZWFyY2gucXVlcnk7CiAgICAgIHVybEhlbHBlck1vZGVsID0gWEEuY29tcG9uZW50LnNlYXJjaC51cmw7CiAgCiAgICAgIHZhciBjb21wb25lbnRzID0gJCgiLmxvY2F0aW9uLWZpbHRlcjpub3QoLmluaXRpYWxpemVkKSIpOwogIAogICAgICBfLmVhY2goY29tcG9uZW50cywgZnVuY3Rpb24gKGVsZW0pIHsKICAgICAgICB2YXIgJGVsID0gJChlbGVtKSwKICAgICAgICAgIHByb3BlcnRpZXMgPSAkZWwuZGF0YSgicHJvcGVydGllcyIpOwogIAogICAgICAgIC8vQ29sbGVjdHMgYWxsIGZvdW5kIGNvbXBvbmVudHMgLSB3ZSB3aWxsIHVzZSB0aGVtIGxhdGVyIHRvIGNyZWF0ZSB2aWV3cwogICAgICAgIGxvY2F0aW9uRmlsdGVycy5wdXNoKCRlbCk7CiAgCiAgICAgICAgLy9Mb2FkcyBnb29nbGUgb3IgYmluZyBzY3JpcHRzIGluIG9yZGVyIHRvIHByb3Blcmx5IHVzZSBhZGRyZXNzIGxvb2t1cCBmdW5jdGlvbmFsaXR5IGJ1dCBvbmx5CiAgICAgICAgLy93aGVuIHdlIGFyZSBub3QgaW4gTG9jYXRpb24gbW9kZSAoaW4gdGhpcyBtb2RlIHdlIGFyZSB0YWtpbmcgbG9jYXRpb24gZnJvbSB0aGUgYnJvd3NlcikKICAgICAgICBpZiAoIXNjcmlwdHNMb2FkZWQgJiYgcHJvcGVydGllcy5tb2RlICE9PSAiTG9jYXRpb24iKSB7CiAgICAgICAgICBtYXBzQ29ubmVjdG9yLmxvYWRTY3JpcHQoCiAgICAgICAgICAgIHByb3BlcnRpZXMua2V5LAogICAgICAgICAgICBYQS5jb21wb25lbnQuc2VhcmNoLmxvY2F0aW9uZmlsdGVyLnNjcmlwdHNMb2FkZWQKICAgICAgICAgICk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGluaXRpYWxpemUoKTsKICAgICAgICB9CiAgCiAgICAgICAgJGVsLmFkZENsYXNzKCJpbml0aWFsaXplZCIpOwogICAgICB9KTsKICAgIH07CiAgICAvKioKICAgICAqIENhbGxzIFsnaW5pdGlhbGl6ZSdde0BsaW5rIG1vZHVsZTpsb2NhdGlvbmZpbHRlci5pbml0aWFsaXplfSBpZiBpdCB3YXNuYHQKICAgICAqIGxvYWRlZCBwcmV2aW91c2x5IGFuZCBtYXJrZWQgYXMgbG9hZGVkCiAgICAgKiBAbWVtYmVyT2YgbW9kdWxlOmxvY2F0aW9uZmlsdGVyCiAgICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uZmlsdGVyLnNjcmlwdHNMb2FkZWQKICAgICAqLwogICAgYXBpLnNjcmlwdHNMb2FkZWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghc2NyaXB0c0xvYWRlZCkgewogICAgICAgIGNvbnNvbGUubG9nKCJNYXBzIGFwaSBsb2FkZWQiKTsKICAgICAgICBzY3JpcHRzTG9hZGVkID0gdHJ1ZTsKICAgICAgICBpbml0aWFsaXplKCk7CiAgICAgIH0KICAgIH07CiAgCiAgICByZXR1cm4gYXBpOwogIH0pKGpRdWVyeSwgZG9jdW1lbnQpOwogIAogIFhBLnJlZ2lzdGVyKCJsb2NhdGlvbmZpbHRlciIsIFhBLmNvbXBvbmVudC5zZWFyY2gubG9jYXRpb25maWx0ZXIpOwo=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 17318
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 1100
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160728T134137Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "cc6c7b3b-7e7c-48b8-a5f6-29d99a5ce4a8"
