---
ID: "6e06b1f0-61c9-48db-b5d5-c47947438c84"
Parent: "dfcbfa5a-2e37-418a-adb7-f411ecae89a9"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/SearchTheme/Scripts/component-search-url"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/6E06B1F061C948DBB5D5C47947438C84.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "6e06b1f0-61c9-48db-b5d5-c47947438c84"
  Value: DQovKioNCiAqIENyZWF0ZXMgaW5zdGFuY2Ugb2YgdXJsSGVscGVyTW9kZWwNCiAqIEBtb2R1bGUgc2VhcmNoVXJsDQogKiBAcGFyYW0gIHtqUXVlcnl9ICQgSW5zdGFuY2Ugb2YgalF1ZXJ5DQogKiBAcGFyYW0gIHtEb2N1bWVudH0gZG9jdW1lbnQgZG9tIGRvY3VtZW50IG9iamVjdA0KICogQHJldHVybiB7T2JqZWN0fSBsaXN0IG9mIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCBzZWFyY2ggdXJsDQoqLw0KWEEuY29tcG9uZW50LnNlYXJjaC51cmwgPSAoZnVuY3Rpb24gKCQsIGRvY3VtZW50KSB7DQogICAgLyoqDQogICAgICogDQogICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGEgDQogICAgICogQHJldHVybnMge1N0cmluZ30NCiAgICAgKi8NCiAgICB2YXIgY2xlYXJJZERhdGEgPSBmdW5jdGlvbiAoZGF0YSkgew0KICAgICAgICBkYXRhID0gZGF0YSArICIiOw0KICAgICAgICB2YXIgcGFydHMgPSBkYXRhLnNwbGl0KCJ8fCIpLCB1cmxEYXRhID0gW10sIGRldGFpbHM7DQogICAgICAgIF8uZWFjaChwYXJ0cywgZnVuY3Rpb24gKHBhcnQpIHsNCiAgICAgICAgICAgIGRldGFpbHMgPSBwYXJ0LnNwbGl0KCd8Jyk7DQogICAgICAgICAgICBpZiAoXy5jb250YWlucyhwYXJ0LCAnfCcpICYmIGRldGFpbHMubGVuZ3RoID09PSAzKSB7DQogICAgICAgICAgICAgICAgdXJsRGF0YS5wdXNoKGRldGFpbHNbMV0gKyAnfCcgKyBkZXRhaWxzWzJdKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdXJsRGF0YS5wdXNoKHBhcnQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHVybERhdGEuam9pbigifHwiKTsNCiAgICB9Ow0KDQogICAgLyoqDQogICAgKiBAbmFtZSBtb2R1bGU6c2VhcmNoVXJsLlVybEhlbHBlck1vZGVsDQogICAgKiBAY29uc3RydWN0b3INCiAgICAqIEBhdWdtZW50cyBCYWNrYm9uZS5Nb2RlbA0KICAgICovDQogICAgdmFyIFVybEhlbHBlck1vZGVsID0gQmFja2JvbmUuTW9kZWwuZXh0ZW5kKA0KICAgICAgICAvKiogQGxlbmRzIG1vZHVsZTpzZWFyY2hVcmwuVXJsSGVscGVyTW9kZWwucHJvdG90eXBlICoqLw0KICAgICAgICB7DQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIGNyZWF0ZXMgdXJsIGZvciBzZWFyY2ggY29tcG9uZW50cw0KICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFQcm9wIGNvbXBvbmVudCBwcm9wZXJ0aWVzIHN0b3JlZCBpbiBkYXRhIGF0dHJpYnV0ZQ0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNpZ25hdHVyZSBjb21wb25lbnQgc2lnbmF0dXJlDQogICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBjcmVhdGVkIHVybA0KICAgICAgICAgICAgICogQG1lbWJlcm9mIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbCNjcmVhdGVTZWFyY2hVcmwNCiAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgY3JlYXRlU2VhcmNoVXJsOiBmdW5jdGlvbiAoZGF0YVByb3AsIHNpZ25hdHVyZSkgew0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnNldEVuZHBvaW50KGRhdGFQcm9wLmVuZHBvaW50KTsNCg0KICAgICAgICAgICAgICAgIHVybCArPSAoZGF0YVByb3AubCkgPyAiJmw9IiArIGRhdGFQcm9wLmwgOiAiIjsgIC8vbGFuZ3VhZ2UNCiAgICAgICAgICAgICAgICB1cmwgKz0gKGRhdGFQcm9wLnMpID8gIiZzPSIgKyBkYXRhUHJvcC5zIDogIiI7ICAvL3Njb3BlDQogICAgICAgICAgICAgICAgdXJsICs9IChkYXRhUHJvcC5pdGVtaWQpID8gIiZpdGVtaWQ9IiArIGRhdGFQcm9wLml0ZW1pZCA6ICIiOw0KICAgICAgICAgICAgICAgIHVybCArPSB0aGlzLmdldEZhY2V0UGFyYW1zKGRhdGFQcm9wLCBzaWduYXR1cmUpOw0KICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuZml4VXJsKHVybCk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gdXJsOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICogY3JlYXRlcyB1cmwgZm9yIHNlYXJjaCBjb21wb25lbnRzIGZvciByZWRpcmVjdA0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHJlZGlyZWN0VXJsIHRhcmdldCB1cmwNCiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBxdWVyeSBxdWVyeSBmb3IgcmVkaXJlY3QNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0YXJnZXRTaWduYXR1cmUgdGFyZ2V0IGNvbXBvbmVudCBzaWduYXR1cmUNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzaWduYXR1cmUgY29tcG9uZW50IHNpZ25hdHVyZQ0KICAgICAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gY3JlYXRlZCB1cmwNCiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBzZWFyY2hVcmwuVXJsSGVscGVyTW9kZWwNCiAgICAgICAgICAgICAqIEBhbGlhcyBzZWFyY2hVcmwuVXJsSGVscGVyTW9kZWwjY3JlYXRlU2VhcmNoVXJsDQogICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIGNyZWF0ZVJlZGlyZWN0U2VhcmNoVXJsOiBmdW5jdGlvbiAocmVkaXJlY3RVcmwsIHF1ZXJ5LCBzaWduYXR1cmUsIHRhcmdldFNpZ25hdHVyZSkgew0KICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbEhhc2ggPSBYQS5jb21wb25lbnQuc2VhcmNoLnF1ZXJ5LmdldCgiaGFzaE9iaiIpLA0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUXVlcnkgPSB7fSwNCiAgICAgICAgICAgICAgICAgICAgaGFzaCA9IHt9LA0KICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDAsDQogICAgICAgICAgICAgICAgICAgIGNsZWFyUGFyYW0sDQogICAgICAgICAgICAgICAgICAgIHBhcmFtU2lnbmF0dXJlLA0KICAgICAgICAgICAgICAgICAgICBwYXJhbSwNCiAgICAgICAgICAgICAgICAgICAgdXJsOw0KDQogICAgICAgICAgICAgICAgaWYgKHNpZ25hdHVyZSAhPT0gIiIpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9pZiBzaWduYXR1cmUgaXMgcHJvdmlkZWQsIHRoZW4gZmlsdGVyIG9ubHkgcGFyYW1zIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlDQogICAgICAgICAgICAgICAgICAgIGZvciAocGFyYW0gaW4gb3JpZ2luYWxIYXNoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGVhclBhcmFtID0gcGFyYW0uc3Vic3RyaW5nKHBhcmFtLmluZGV4T2YoJ18nKSArIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1TaWduYXR1cmUgPSBwYXJhbS5zdWJzdHIoMCwgcGFyYW0uaW5kZXhPZignXycpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbVNpZ25hdHVyZSA9PT0gc2lnbmF0dXJlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzaFtwYXJhbV0gPSBvcmlnaW5hbEhhc2hbcGFyYW1dOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaGFzaCA9IG9yaWdpbmFsSGFzaDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBxdWVyeSA9ICQuZXh0ZW5kKHt9LCBoYXNoLCBxdWVyeSk7DQoNCiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0U2lnbmF0dXJlICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICAvL2lmIHRhcmdldCBzaWduYXR1cmUgaXMgcHJvdmlkZWQsIHJlcGxhY2Ugc2lnbmF0dXJlIHdpdGggdGFyZ2V0IHNpZ25hdHVyZSBpbiBhbGwgcGFyYW1zDQogICAgICAgICAgICAgICAgICAgIGZvciAocGFyYW0gaW4gcXVlcnkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyUGFyYW0gPSBwYXJhbS5zdWJzdHJpbmcocGFyYW0uaW5kZXhPZignXycpICsgMSk7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbVNpZ25hdHVyZSA9IHBhcmFtLnN1YnN0cigwLCBwYXJhbS5pbmRleE9mKCdfJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtU2lnbmF0dXJlID09PSBzaWduYXR1cmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUXVlcnlbdGFyZ2V0U2lnbmF0dXJlICsgIl8iICsgY2xlYXJQYXJhbV0gPSBxdWVyeVtwYXJhbV07DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtU2lnbmF0dXJlID09PSB0YXJnZXRTaWduYXR1cmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUXVlcnlbcGFyYW1dID0gcXVlcnlbcGFyYW1dOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFF1ZXJ5ID0gcXVlcnk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5zZXRFbmRwb2ludChyZWRpcmVjdFVybCArICIjIik7DQoNCiAgICAgICAgICAgICAgICBfLmVhY2godXBkYXRlZFF1ZXJ5LCBmdW5jdGlvbiAoaXRlbSwga2V5KSB7DQogICAgICAgICAgICAgICAgICAgIHVybCArPSAoaW5kZXggPT09IDAgPyAiIiA6ICImIikgKyBrZXkgKyAiPSIgKyBpdGVtOw0KICAgICAgICAgICAgICAgICAgICBpbmRleCsrOw0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIGNyZWF0ZXMgcHJlZGljdGl2ZSB1cmwgZm9yIHNlYXJjaCBjb21wb25lbnRzDQogICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kcG9pbnQgdGFyZ2V0IHVybA0KICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IHF1ZXJ5IGZvciByZWRpcmVjdA0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFQcm9wIHRhcmdldCBjb21wb25lbnQgc2lnbmF0dXJlDQogICAgICAgICAgICAgKiBAbWVtYmVyb2Ygc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsI2NyZWF0ZVByZWRpY3RpdmVTZWFyY2hVcmwNCiAgICAgICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVybCBwcmVkaWN0aXZlIHVybA0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBjcmVhdGVQcmVkaWN0aXZlU2VhcmNoVXJsOiBmdW5jdGlvbiAoZW5kcG9pbnQsIGRhdGFQcm9wLCBxdWVyeSkgew0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnNldEVuZHBvaW50KGVuZHBvaW50KTsNCg0KICAgICAgICAgICAgICAgIHVybCArPSAiP3E9IiArIGVuY29kZVVSSUNvbXBvbmVudChxdWVyeSk7DQogICAgICAgICAgICAgICAgdXJsICs9ICImdj0iICsgZGF0YVByb3AudjsNCiAgICAgICAgICAgICAgICB1cmwgKz0gIiZwPSIgKyBkYXRhUHJvcC5wOw0KICAgICAgICAgICAgICAgIHVybCArPSAoZGF0YVByb3AubCkgPyAiJmw9IiArIGRhdGFQcm9wLmwgOiAiIjsNCiAgICAgICAgICAgICAgICB1cmwgKz0gKGRhdGFQcm9wLnMpID8gIiZzPSIgKyBkYXRhUHJvcC5zIDogIiI7DQogICAgICAgICAgICAgICAgdXJsICs9IChkYXRhUHJvcC5pdGVtaWQpID8gIiZpdGVtaWQ9IiArIGRhdGFQcm9wLml0ZW1pZCA6ICIiOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIGNyZWF0ZXMgZmFjZXQgdXJsIGZvciBzZWFyY2ggY29tcG9uZW50cw0KICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHF1ZXJ5IHF1ZXJ5IGZvciByZWRpcmVjdA0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFQcm9wIHRhcmdldCBjb21wb25lbnQgc2lnbmF0dXJlDQogICAgICAgICAgICAgKiBAbWVtYmVyb2Ygc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsI2NyZWF0ZUZhY2V0VXJsDQogICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB1cmwgZm9yIGZhY2V0cw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBjcmVhdGVGYWNldFVybDogZnVuY3Rpb24gKGRhdGFQcm9wLCBxdWVyeSkgew0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnNldEVuZHBvaW50KGRhdGFQcm9wLmVuZHBvaW50KTsNCg0KICAgICAgICAgICAgICAgIHVybCArPSAiP2Y9IiArIGRhdGFQcm9wLmYudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgICAgICB1cmwgKz0gKGRhdGFQcm9wLnMpID8gIiZzPSIgKyBkYXRhUHJvcC5zIDogIiI7DQogICAgICAgICAgICAgICAgdXJsICs9IChkYXRhUHJvcC5sKSA/ICImbD0iICsgZGF0YVByb3AubCA6ICIiOw0KICAgICAgICAgICAgICAgIHVybCArPSAocXVlcnkpID8gIiZxPSIgKyBlbmNvZGVVUklDb21wb25lbnQocXVlcnkpIDogIiI7DQoNCiAgICAgICAgICAgICAgICB1cmwgKz0gdGhpcy5nZXRGYWNldFBhcmFtcyhkYXRhUHJvcCk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gdXJsOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICogY3JlYXRlcyBmYWNldCB1cmwgZm9yIHNlYXJjaCBjb21wb25lbnRzIHdoZW4gZW5hYmxlZCBtdWx0aWZhY2V0IHNlYXJjaA0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFQcm9wIHRhcmdldCBjb21wb25lbnQgc2lnbmF0dXJlDQogICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBmYWNldExpc3QgbGlzdCBvZiBleGlzdGluZyBmYWNldHMNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzaWcgY29tcG9uZW50IHNpZ25hdHVyZQ0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGl0ZW1JZCBjb21wb25lbnQgaWQNCiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBzZWFyY2hVcmwuVXJsSGVscGVyTW9kZWwNCiAgICAgICAgICAgICAqIEBhbGlhcyBzZWFyY2hVcmwuVXJsSGVscGVyTW9kZWwjY3JlYXRlTXVsdGlGYWNldFVybA0KICAgICAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsIGZvciBtdWx0aSBmYWNldCBzZWFyY2gNCiAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgY3JlYXRlTXVsdGlGYWNldFVybDogZnVuY3Rpb24gKGRhdGFQcm9wLCBmYWNldExpc3QsIHNpZywgaXRlbUlkKSB7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMuc2V0RW5kcG9pbnQoZGF0YVByb3AuZW5kcG9pbnQpOw0KDQogICAgICAgICAgICAgICAgdXJsICs9ICI/Zj0iICsgZmFjZXRMaXN0LmpvaW4oInx8IikudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgICAgICB1cmwgKz0gKGRhdGFQcm9wLnMpID8gIiZzPSIgKyBkYXRhUHJvcC5zIDogIiI7DQogICAgICAgICAgICAgICAgdXJsICs9IChkYXRhUHJvcC5sKSA/ICImbD0iICsgZGF0YVByb3AubCA6ICIiOw0KICAgICAgICAgICAgICAgIHVybCArPSBpdGVtSWQgPyAiJml0ZW1pZD0iICsgaXRlbUlkIDogIiI7DQoNCiAgICAgICAgICAgICAgICB1cmwgKz0gdGhpcy5nZXRGYWNldFBhcmFtcyhkYXRhUHJvcCwgc2lnKTsNCg0KICAgICAgICAgICAgICAgIHVybCArPSAiJnNpZz0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHNpZyk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gdXJsOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICogQ2xlYXJzIGhhc2ggcGFyYW1ldGVycw0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFQcm9wZXJ0aWVzIGNvbXBvbmVudCBwcm9wZXJ0aWVzDQogICAgICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wZXJ0aWVzIA0KICAgICAgICAgICAgICogQG1lbWJlcm9mIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbCNjbGVhclVybFBhcmFtcw0KICAgICAgICAgICAgICogQHJldHVybnMge0FycmF5fSBhcnJheSB3aXRoIGNsZWFyZWQgcHJvcGVydGllcw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBjbGVhclVybFBhcmFtczogZnVuY3Rpb24gKGRhdGFQcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzKSB7DQogICAgICAgICAgICAgICAgdmFyIGZhY2V0TmFtZSA9IGRhdGFQcm9wZXJ0aWVzLmYudG9Mb3dlckNhc2UoKSwNCiAgICAgICAgICAgICAgICAgICAgaGFzaCA9IHt9Ow0KDQogICAgICAgICAgICAgICAgZGVsZXRlIHByb3BlcnRpZXNbZmFjZXROYW1lXTsNCiAgICAgICAgICAgICAgICBkZWxldGUgaGFzaFtmYWNldE5hbWVdOw0KICAgICAgICAgICAgICAgIFhBLmNvbXBvbmVudC5zZWFyY2gucXVlcnkudXBkYXRlSGFzaChoYXNoKTsNCg0KICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0aWVzOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8qKg0KICAgICAgICAgICAgICogUmV0dXJucyB1cmwgd2l0aCBmYWNldCBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVByb3AgY29tcG9uZW50IHByb3BlcnRpZXMNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hSZXN1bHRzU2lnbmF0dXJlIHNpZ25hdHVyZSBvZiBzZWFyY2ggcmVzdWx0IGNvbXBvbmVudA0KICAgICAgICAgICAgICogQG1lbWJlcm9mIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbCNnZXRGYWNldFBhcmFtcw0KICAgICAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsIHdpdGggZmFjZXQgcGFyYW1ldGVycw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBnZXRGYWNldFBhcmFtczogZnVuY3Rpb24gKGRhdGFQcm9wLCBzZWFyY2hSZXN1bHRzU2lnbmF0dXJlKSB7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9ICIiLA0KICAgICAgICAgICAgICAgICAgICBjbGVhckZhY2V0TmFtZSwNCiAgICAgICAgICAgICAgICAgICAgZmFjZXRTaWduYXR1cmUsDQogICAgICAgICAgICAgICAgICAgIHNraXBQYXJhbXMgPSBbJ2VuZHBvaW50JywgJ2wnLCAncycsICdlJywgJ2YnLCAnc2lnJywgJ2l0ZW1pZCddLCAvL3BhcmFtcyB3aGljaCB3aWxsIGJlIHNraXBwZWQgd2hpbGUgYWRkaW5nIGZhY2V0IHBhcmFtcw0KICAgICAgICAgICAgICAgICAgICBzcGVjaWFsUGFyYW1zID0gWydnJywgJ28nLCAncScsICdwJywgJ2UnLCAndiddOyAvL3BhcmFtcyB3aGljaCBhcmUgbm90IGZhY2V0cyBidXQgY2FuIGhhdmUgc2lnbmF0dXJlDQoNCg0KICAgICAgICAgICAgICAgIGlmIChkYXRhUHJvcC5oYXNPd25Qcm9wZXJ0eSgic2lnIikpIHsNCiAgICAgICAgICAgICAgICAgICAgdXJsICs9ICImc2lnPSIgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVByb3BbInNpZyJdKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBmb3IgKGZhY2V0IGluIGRhdGFQcm9wKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChza2lwUGFyYW1zLmluZGV4T2YoZmFjZXQpID09PSAtMSAmJiBmYWNldCAmJiBkYXRhUHJvcFtmYWNldF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyRmFjZXROYW1lID0gZmFjZXQuc3Vic3RyaW5nKGZhY2V0LmluZGV4T2YoJ18nKSArIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZmFjZXRTaWduYXR1cmUgPSBmYWNldC5zdWJzdHIoMCwgZmFjZXQuaW5kZXhPZignXycpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZXN1bHRzU2lnbmF0dXJlID09PSBmYWNldFNpZ25hdHVyZSAmJiBzcGVjaWFsUGFyYW1zLmluZGV4T2YoY2xlYXJGYWNldE5hbWUpID09PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSAiJiIgKyBjbGVhckZhY2V0TmFtZSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChjbGVhcklkRGF0YShkYXRhUHJvcFtmYWNldF0pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vZ2V0cyBwYXJhbXMgdGhhdCBhcmUgbm90IGZhY2V0cyBidXQgY2FuIGhhdmUgc2lnbmF0dXJlDQogICAgICAgICAgICAgICAgdXJsID0gdGhpcy5nZXRTcGVjaWFsUGFyYW1zKGRhdGFQcm9wLCBzZWFyY2hSZXN1bHRzU2lnbmF0dXJlLCBzcGVjaWFsUGFyYW1zLCB1cmwpOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIFJldHVybnMgdXJsIHdpdGggc3BlY2lhbCBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVByb3AgY29tcG9uZW50IHByb3BlcnRpZXMNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hSZXN1bHRzU2lnbmF0dXJlIHNpZ25hdHVyZSBvZiBzZWFyY2ggcmVzdWx0IGNvbXBvbmVudA0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNwZWNpYWxQYXJhbXMgc3BlY2lhbCBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIHVybCBmb3Igc3BlY2lhbCBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgKiBAbWVtYmVyb2Ygc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsI2dldFNwZWNpYWxQYXJhbXMNCiAgICAgICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVybCB3aXRoIHNwZWNpYWwgcGFyYW1ldGVycw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBnZXRTcGVjaWFsUGFyYW1zOiBmdW5jdGlvbiAoZGF0YVByb3AsIHNlYXJjaFJlc3VsdHNTaWduYXR1cmUsIHNwZWNpYWxQYXJhbXMsIHVybCkgew0KICAgICAgICAgICAgICAgIHZhciBwYXJhbSwNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1WYWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgY2xlYXJQYXJhbU5hbWUsDQogICAgICAgICAgICAgICAgICAgIHBhcmFtU2lnbmF0dXJlOw0KDQogICAgICAgICAgICAgICAgZm9yIChwYXJhbSBpbiBkYXRhUHJvcCkgew0KICAgICAgICAgICAgICAgICAgICBjbGVhclBhcmFtTmFtZSA9IHBhcmFtLnN1YnN0cmluZyhwYXJhbS5pbmRleE9mKCdfJykgKyAxKTsNCiAgICAgICAgICAgICAgICAgICAgcGFyYW1TaWduYXR1cmUgPSBwYXJhbS5zdWJzdHIoMCwgcGFyYW0uaW5kZXhPZignXycpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWNpYWxQYXJhbXMuaW5kZXhPZihjbGVhclBhcmFtTmFtZSkgIT09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbVZhbHVlID0gdHlwZW9mIGRhdGFQcm9wW3BhcmFtXSAhPT0gInVuZGVmaW5lZCIgPyBkYXRhUHJvcFtwYXJhbV0gOiAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2hSZXN1bHRzU2lnbmF0dXJlID09PSBwYXJhbVNpZ25hdHVyZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCArPSAiJiIgKyBjbGVhclBhcmFtTmFtZSArICI9IiArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbVZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiB1cmw7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgKiBSZXR1cm5zIHVybCBQT0kgY29udGVudA0KICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRhdGFQcm9wIGNvbXBvbmVudCBwcm9wZXJ0aWVzDQogICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9pSWQgUE9JIElEDQogICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9pVmFyaWFudElkIFBPSSB2YXJpYW50IElEDQogICAgICAgICAgICAgKiBAbWVtYmVyb2Ygc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsI2dldFNwZWNpYWxQYXJhbXMNCiAgICAgICAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHVybCB3aXRoIHBvaSBwYXJhbWV0ZXJzDQogICAgICAgICAgICAgKi8NCiAgICAgICAgICAgIGNyZWF0ZUdldFBvaUNvbnRlbnRVcmw6IGZ1bmN0aW9uIChkYXRhUHJvcCwgcG9pSWQsIHBvaVZhcmlhbnRJZCkgew0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnNldEVuZHBvaW50KGRhdGFQcm9wLmVuZHBvaW50KTsNCiAgICAgICAgICAgICAgICB1cmwgKz0gIi8iICsgcG9pVmFyaWFudElkICsgIi8iICsgcG9pSWQ7DQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIFJldHVybnMgdXJsIHdpdGggZ2VvIFBPSSBjb250ZW50DQogICAgICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YVByb3AgY29tcG9uZW50IHByb3BlcnRpZXMNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwb2lJZCBQT0kgSUQNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwb2lWYXJpYW50SWQgUE9JIHZhcmlhbnQgSUQNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb29yZGluYXRlcyBQT0kgY29vcmRpbmF0ZXMNCiAgICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bml0cyB1bml0IG9mIGNvb3JkaW5hdGVzDQogICAgICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gaXRlbUlkIGNvbnRleHQgaXRlbSBJRA0KICAgICAgICAgICAgICogQG1lbWJlcm9mIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbCNjcmVhdGVHZXRHZW9Qb2lDb250ZW50VXJsDQogICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSB1cmwgd2l0aCBnZW8gcG9pIGNvbnRlbnQgcGFyYW1ldGVycw0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBjcmVhdGVHZXRHZW9Qb2lDb250ZW50VXJsOiBmdW5jdGlvbiAoZGF0YVByb3AsIHBvaUlkLCBwb2lWYXJpYW50SWQsIGNvb3JkaW5hdGVzLCB1bml0cywgaXRlbUlkKSB7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9IHRoaXMuc2V0RW5kcG9pbnQoZGF0YVByb3AuZW5kcG9pbnQpOw0KICAgICAgICAgICAgICAgIHVybCArPSAiLyIgKyBwb2lWYXJpYW50SWQgKyAiLyIgKyBwb2lJZCArICIvIiArIGNvb3JkaW5hdGVzICsgIi8iICsgdW5pdHMgKyAiLyIgKyBpdGVtSWQ7DQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIFJldHVybnMgdXJsIHdpdGggZ2VvIFBPSSBjb250ZW50DQogICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHVybCBmb3Igc2l0ZQ0KICAgICAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNpdGVOYW1lIHNpdGUgbmFtZQ0KICAgICAgICAgICAgICogQG1lbWJlcm9mIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbCNjcmVhdGVTaXRlVXJsDQogICAgICAgICAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBzaXRlIHVybA0KICAgICAgICAgICAgICovDQogICAgICAgICAgICBjcmVhdGVTaXRlVXJsOiBmdW5jdGlvbiAodXJsLCBzaXRlTmFtZSkgew0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2l0ZU5hbWUgIT09ICJ1bmRlZmluZWQiICYmIHNpdGVOYW1lICE9PSBudWxsICYmIHNpdGVOYW1lICE9PSAiIikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsICsgIiZzY19zaXRlPSIgKyBzaXRlTmFtZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIFJldHVybnMgdXJsIHdpdGggZW5kcG9pbnQNCiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlbmRwb2ludCBlbmRwb2ludCBwYXJhbWV0ZXIgZnJvbSBjb21wb25lbnQgcHJvcGVydGllcw0KICAgICAgICAgICAgICogQG1lbWJlcm9mIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbA0KICAgICAgICAgICAgICogQGFsaWFzIHNlYXJjaFVybC5VcmxIZWxwZXJNb2RlbCNzZXRFbmRwb2ludA0KICAgICAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsIHdpdGggZW5kcG9pbnQNCiAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgc2V0RW5kcG9pbnQ6IGZ1bmN0aW9uIChlbmRwb2ludCkgew0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luOw0KDQogICAgICAgICAgICAgICAgaWYgKGVuZHBvaW50LnN0YXJ0c1dpdGgoImh0dHAiKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5kcG9pbnQ7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdXJsICs9IGVuZHBvaW50Ow0KICAgICAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvKFteOl1cLylcLysvZywgIiQxIik7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgLyoqDQogICAgICAgICAgICAgKiBGaXhlcyB1cmwgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMNCiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgdXJsIHN0cmluZyBmb3IgZml4aW5nDQogICAgICAgICAgICAgKiBAbWVtYmVyb2Ygc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsDQogICAgICAgICAgICAgKiBAYWxpYXMgc2VhcmNoVXJsLlVybEhlbHBlck1vZGVsI2ZpeFVybA0KICAgICAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gdXJsIHdpdGggZW5kcG9pbnQNCiAgICAgICAgICAgICAqLw0KICAgICAgICAgICAgZml4VXJsOiBmdW5jdGlvbiAodXJsKSB7DQogICAgICAgICAgICAgICAgdmFyIGluZGV4Ow0KDQogICAgICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL1s/XS9nLCAiJiIpOw0KICAgICAgICAgICAgICAgIGluZGV4ID0gdXJsLmluZGV4T2YoIiYiKTsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyKDAsIGluZGV4KSArICI/IiArIHVybC5zdWJzdHIoaW5kZXggKyAxKQ0KDQogICAgICAgICAgICAgICAgcmV0dXJuIHVybDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICB2YXIgdXJsSGVscGVyTW9kZWwgPSBuZXcgVXJsSGVscGVyTW9kZWwoKTsNCg0KICAgIHJldHVybiB1cmxIZWxwZXJNb2RlbDsNCg0KfShqUXVlcnksIGRvY3VtZW50KSk7DQo=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 15182
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 1900
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160728T134138Z
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "c06eb189-aeec-467a-8e11-404234bd4eae"
