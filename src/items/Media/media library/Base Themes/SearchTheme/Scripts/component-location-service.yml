---
ID: "84182a7c-3681-4751-a9a8-096f3a035176"
Parent: "dfcbfa5a-2e37-418a-adb7-f411ecae89a9"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/SearchTheme/Scripts/component-location-service"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/84182A7C36814751A9A8096F3A035176.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "84182a7c-3681-4751-a9a8-096f3a035176"
  Value: 77u/DQovKioNCiAqIFNlcnZpY2UgdGhhdCBwcm92aWRlcyB3cmFwcGVycyBmb3IgZ2VvbG9jYXRpb24gQVBJDQogKiBAbW9kdWxlIGxvY2F0aW9uU2VydmljZQ0KICogQHBhcmFtICB7alF1ZXJ5fSAkIEluc3RhbmNlIG9mIGpRdWVyeQ0KICogQHJldHVybiB7T2JqZWN0fSBMaXN0IG9mIGxvY2F0aW9uIHNlcnZpY2UgbWV0aG9kcw0KICovDQpYQS5jb21wb25lbnQubG9jYXRpb25TZXJ2aWNlID0gKGZ1bmN0aW9uICgkLCBkb2N1bWVudCkgew0KDQogICAgInVzZSBzdHJpY3QiOw0KICAgIC8qKg0KICAgICogVGhpcyBvYmplY3Qgc3RvcmVzIGFsbCBwdWJsaWMgYXBpIG1ldGhvZHMuDQogICAgKiBAdHlwZSB7T2JqZWN0LjxNZXRob2RzPn0NCiAgICAqIEBtZW1iZXJPZiBtb2R1bGU6bG9jYXRpb25TZXJ2aWNlDQogICAgKi8NCiAgICB2YXIgYXBpID0ge30sDQogICAgICAgIGdldEN1cnJlbnRMb2NhdGlvbiwNCiAgICAgICAgZ2V0TG9jYXRpb25PcHRpb25zLA0KICAgICAgICBkZXRlY3RCcm93c2VyLA0KICAgICAgICBnZXR0aW5nTG9jYXRpb24gPSBmYWxzZSwNCiAgICAgICAgZXJyb3JDYWxsYmFja3MgPSBbXSwNCiAgICAgICAgc3VjY2Vzc0NhbGxiYWNrcyA9IFtdLA0KICAgICAgICByZXBvcnRFcnJvcjsNCg0KICAgIC8qKg0KICAgICogZ2V0Q3VycmVudExvY2F0aW9uIG1ldGhvZCBjYWxsIGdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbiBBUEkgYW5kIGNhbGwgY2FsbGJhY2sgZnVuY3Rpb25zDQogICAgKiBAbWVtYmVyT2YgbW9kdWxlOmxvY2F0aW9uU2VydmljZQ0KICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3VjY2VzcyBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGNhbGxzIGluIGNhc2Ugb2YgcG9zaXRpdmUgYW5zd2VyIGZyb20gZ2VvbG9jYXRpb24gQVBJDQogICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcnJvciBmdW5jdGlvbiBjYWxsYmFjayB0aGF0IGNhbGxzIGluIGNhc2Ugb2YgZXJyb3IgYW5zd2VyIGZyb20gZ2VvbG9jYXRpb24gQVBJDQogICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uU2VydmljZS5nZXRDdXJyZW50TG9jYXRpb24NCiAgICAqIEBwcml2YXRlDQogICAgKi8NCiAgICBnZXRDdXJyZW50TG9jYXRpb24gPSBmdW5jdGlvbiAoc3VjY2VzcywgZXJyb3IpIHsNCiAgICAgICAgdmFyIGk7DQoNCiAgICAgICAgZXJyb3JDYWxsYmFja3MucHVzaChlcnJvcik7DQogICAgICAgIHN1Y2Nlc3NDYWxsYmFja3MucHVzaChzdWNjZXNzKTsNCg0KICAgICAgICBpZiAoZ2V0dGluZ0xvY2F0aW9uKSB7DQogICAgICAgICAgICAvL3Byb2Nlc3MgZm9yIGdldHRpbmcgY3VycmVudCBsb2NhdGlvbiBzdGFydGVkIGFscmVhZHksIGp1c3Qgc3Vic2NyaWJlIGZvciBwcm9wZXIgZXZlbnQgYW5kIHdhaXQNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBnZXR0aW5nTG9jYXRpb24gPSB0cnVlOw0KICAgICAgICBpZiAobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSB7DQogICAgICAgICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKA0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChwb3NpdGlvbikgew0KICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3VjY2Vzc0NhbGxiYWNrcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2Vzc0NhbGxiYWNrc1tpXShbcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLCBwb3NpdGlvbi5jb29yZHMubG9uZ2l0dWRlXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZ2V0dGluZ0xvY2F0aW9uID0gZmFsc2U7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVwb3J0RXJyb3IoIkVycm9yIHdoaWxlIGRldGVjdGluZyB1c2VyIGxvY2F0aW9uIik7DQogICAgICAgICAgICAgICAgICAgIGdldHRpbmdMb2NhdGlvbiA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZ2V0TG9jYXRpb25PcHRpb25zKCkNCiAgICAgICAgICAgICk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXBvcnRFcnJvcigiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgZ2VvbG9jYXRpb24iKTsNCiAgICAgICAgICAgIGdldHRpbmdMb2NhdGlvbiA9IGZhbHNlOw0KICAgICAgICB9DQogICAgfTsNCiAgICAvKioNCiAgICAqIGdldExvY2F0aW9uT3B0aW9ucyBtZXRob2QgcmV0dXJuIG9wdGlvbiBmb3IgbG9jYXRpb24gc2VhcmNoIGJhc2VkIG9uIGJyb3dzZXINCiAgICAqIEBtZW1iZXJPZiBtb2R1bGU6bG9jYXRpb25TZXJ2aWNlDQogICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uU2VydmljZS5nZXRMb2NhdGlvbk9wdGlvbnMNCiAgICAqIEByZXR1cm5zIHtPYmplY3R9IGxpc3Qgb2Ygb3B0aW9uIGZvciBsb2NhdGlvbiBzZWFyY2gNCiAgICAqIEBwcml2YXRlDQogICAgKi8NCiAgICBnZXRMb2NhdGlvbk9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBicm93c2VyID0gZGV0ZWN0QnJvd3NlcigpOw0KICAgICAgICBpZiAoYnJvd3Nlci5pbmRleE9mKCJDaHJvbWUiKSAhPT0gLTEpIHsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgZW5hYmxlSGlnaEFjY3VyYWN5OiB0cnVlLA0KICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAwLA0KICAgICAgICAgICAgICAgIG1heGltdW1BZ2U6IDANCiAgICAgICAgICAgIH07DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAsDQogICAgICAgICAgICAgICAgbWF4aW11bUFnZTogSW5maW5pdHkNCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9Ow0KICAgIC8qKg0KICAgICogZGV0ZWN0QnJvd3NlciBtZXRob2QgZGV0ZWN0cyBicm93c2VyIG5hbWUgYW5kIHZlcnNpb24NCiAgICAqIEBtZW1iZXJPZiBtb2R1bGU6bG9jYXRpb25TZXJ2aWNlDQogICAgKiBAYWxpYXMgbW9kdWxlOmxvY2F0aW9uU2VydmljZS5kZXRlY3RCcm93c2VyDQogICAgKiBAcmV0dXJucyB7U3RyaW5nfSByZXR1cm5zIGJyb3dzZXIgbmFtZSBhbmQgaXRzIHZlcnNpb24NCiAgICAqIEBwcml2YXRlDQogICAgKi8NCiAgICBkZXRlY3RCcm93c2VyID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LA0KICAgICAgICAgICAgdGVtLA0KICAgICAgICAgICAgTSA9IHVhLm1hdGNoKC8ob3BlcmF8Y2hyb21lfHNhZmFyaXxmaXJlZm94fG1zaWV8dHJpZGVudCg/PVwvKSlcLz9ccyooXGQrKS9pKSB8fCBbXTsNCg0KICAgICAgICBpZiAoL3RyaWRlbnQvaS50ZXN0KE1bMV0pKSB7DQogICAgICAgICAgICB0ZW0gPSAvXGJydlsgOl0rKFxkKykvZy5leGVjKHVhKSB8fCBbXTsNCiAgICAgICAgICAgIHJldHVybiAiSUUgIiArICh0ZW1bMV0gfHwgIiIpOw0KICAgICAgICB9DQogICAgICAgIGlmIChNWzFdID09PSAiQ2hyb21lIikgew0KICAgICAgICAgICAgdGVtID0gdWEubWF0Y2goL1xiKE9QUnxFZGdlKVwvKFxkKykvKTsNCiAgICAgICAgICAgIGlmICh0ZW0gIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0ZW0uc2xpY2UoMSkuam9pbigiICIpLnJlcGxhY2UoIk9QUiIsICJPcGVyYSIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIE0gPSBNWzJdID8gW01bMV0sIE1bMl1dIDogW25hdmlnYXRvci5hcHBOYW1lLCBuYXZpZ2F0b3IuYXBwVmVyc2lvbiwgIi0/Il07DQogICAgICAgIGlmICgodGVtID0gdWEubWF0Y2goL3ZlcnNpb25cLyhcZCspL2kpKSAhPSBudWxsKSB7DQogICAgICAgICAgICBNLnNwbGljZSgxLCAxLCB0ZW1bMV0pOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBNLmpvaW4oIiAiKTsNCiAgICB9Ow0KICAgIC8qKg0KICAgICogcmVwb3J0RXJyb3IgbWV0aG9kIGFkZHMgZXJyb3IgbWVzc2FnZSB0byBlcnJvckNhbGxiYWNrcyBhcnJheQ0KICAgICogQG1lbWJlck9mIG1vZHVsZTpsb2NhdGlvblNlcnZpY2UNCiAgICAqIEBwYXJhbSB7U3RyaW5nfSBlcnJvck1lc3NhZ2UgdGV4dCBvZiBhcHBlYXJlZCBlcnJvcg0KICAgICogQGFsaWFzIG1vZHVsZTpsb2NhdGlvblNlcnZpY2UucmVwb3J0RXJyb3INCiAgICAqIEBwcml2YXRlDQogICAgKi8NCiAgICByZXBvcnRFcnJvciA9IGZ1bmN0aW9uIChlcnJvck1lc3NhZ2UpIHsNCiAgICAgICAgdmFyIGk7DQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBlcnJvckNhbGxiYWNrcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgaWYgKHR5cGVvZiBlcnJvckNhbGxiYWNrc1tpXSA9PT0gImZ1bmN0aW9uIikgew0KICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2tzW2ldKGVycm9yTWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIC8qKg0KICAgICogZGV0ZWN0TG9jYXRpb24gbWV0aG9kIGNhbGwNCiAgICAqIFsiZ2V0Q3VycmVudExvY2F0aW9uIl17QGxpbmsgbW9kdWxlOmxvY2F0aW9uU2VydmljZS5nZXRDdXJyZW50TG9jYXRpb259IG1ldGhvZCANCiAgICAqIHRvIGdldCB1c2VyIGxvY2F0aW9uLg0KICAgICogQG1lbWJlck9mIG1vZHVsZTpsb2NhdGlvblNlcnZpY2UNCiAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN1Y2Nlc3MgZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBjYWxscyBpbiBjYXNlIG9mIHBvc2l0aXZlIGFuc3dlciBmcm9tIGdlb2xvY2F0aW9uIEFQSQ0KICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXJyb3IgZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBjYWxscyBpbiBjYXNlIG9mIGVycm9yIGFuc3dlciBmcm9tIGdlb2xvY2F0aW9uIEFQSQ0KICAgICogQGFsaWFzIG1vZHVsZTpsb2NhdGlvblNlcnZpY2UuZGV0ZWN0TG9jYXRpb24NCiAgICAqLw0KICAgIGFwaS5kZXRlY3RMb2NhdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnJvcikgew0KICAgICAgICBnZXRDdXJyZW50TG9jYXRpb24oc3VjY2VzcywgZXJyb3IpOw0KICAgIH07DQoNCiAgICByZXR1cm4gYXBpOw0KDQp9KGpRdWVyeSwgZG9jdW1lbnQpKTsNCg0KWEEucmVnaXN0ZXIoImxvY2F0aW9uU2VydmljZSIsIFhBLmNvbXBvbmVudC5sb2NhdGlvblNlcnZpY2UpOw0K
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 5124
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 0
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160728T134135Z
    - ID: "5dd74568-4d4b-44c1-b513-0af5f4cda34f"
      Hint: __Created by
      Value: |
        sitecore\admin
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "3967731a-dd10-4066-b3c0-bb01c8554ae9"
