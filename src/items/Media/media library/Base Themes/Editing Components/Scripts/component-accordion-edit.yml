---
ID: "a5d7f639-07ef-4f12-9885-8986fdcdcc4b"
Parent: "38e7f36b-5ca4-4c61-b111-184864dac604"
Template: "962b53c4-f93b-4df9-9821-415c867b8903"
Path: "/sitecore/media library/Base Themes/Editing Components/Scripts/component-accordion-edit"
SharedFields:
- ID: "06d5295c-ed2f-4a54-9bf2-26228d113318"
  Hint: __Icon
  Value: "-/media/A5D7F63907EF4F1298858986FDCDCC4B.ashx?h=16&thn=1&w=16"
- ID: "40e50ed9-ba07-4702-992e-a912738d32dc"
  Hint: Blob
  BlobID: "a5d7f639-07ef-4f12-9885-8986fdcdcc4b"
  Value: 77u/WEEuY29tcG9uZW50LmFjY29yZGlvbnMgJiYgWEEuY29tcG9uZW50LmFjY29yZGlvbnMuaW5pdEluc3RhbmNlICYmIChYQS5jb21wb25lbnQuYWNjb3JkaW9ucy5pbml0SW5zdGFuY2UgPSAoZnVuY3Rpb24gKGZ1bmMsICQpIHsNCg0KICAgIGZ1bmN0aW9uIHBhZ2VFZGl0b3IoKSB7DQogICAgICAgIGlmICgkKCdib2R5JykuaGFzQ2xhc3MoJ29uLXBhZ2UtZWRpdG9yJykpIHsNCiAgICAgICAgICAgIFNpdGVjb3JlLlBhZ2VNb2Rlcy5DaHJvbWVNYW5hZ2VyLnJlc2V0Q2hyb21lcygpOyAvL3BhZ2UgZWRpdG9yIGxpbmVzIGZpeA0KICAgICAgICB9DQogICAgfQ0KDQogICAgdmFyIGJlZm9yZUluaXRTY3JpcHQgPSBmdW5jdGlvbiAoY29tcG9uZW50LCBwcm9wKSB7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gZGlzYWJsZUVtcHR5QWNjb3JkaW9ucygkYWNjb3JkaW9uKSB7DQogICAgICAgIHZhciBlbXB0eVBsYWNlaG9sZGVycyA9ICRhY2NvcmRpb24uZmluZCgiLml0ZW0gLnNjRW1wdHlQbGFjZWhvbGRlciIpLA0KICAgICAgICAgICAgaSwgbGVuZ3RoLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXJDb2RlVGFnLA0KICAgICAgICAgICAgcGFyZW50LA0KICAgICAgICAgICAgJHBsYWNlaG9sZGVyLA0KICAgICAgICAgICAgcGxhY2Vob2xkZXJJZCwNCiAgICAgICAgICAgIHBsYWNlaG9sZGVyS2V5LA0KICAgICAgICAgICAgZWRpdEZyYW1lLA0KICAgICAgICAgICAgY2hyb21lS2V5LA0KICAgICAgICAgICAgaDsNCg0KICAgICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBlbXB0eVBsYWNlaG9sZGVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgJHBsYWNlaG9sZGVyID0gJChlbXB0eVBsYWNlaG9sZGVyc1tpXSk7DQogICAgICAgICAgICBwbGFjZWhvbGRlcklkID0gJHBsYWNlaG9sZGVyLmF0dHIoInNjLXBsYWNlaG9sZGVyLWlkIik7DQoNCiAgICAgICAgICAgIC8vZGlzYWJsZSBlZGl0IGZyYW1lcw0KICAgICAgICAgICAgcGxhY2Vob2xkZXJDb2RlVGFnID0gJHBsYWNlaG9sZGVyLnNpYmxpbmdzKCJjb2RlW2Nocm9tZXR5cGU9J3BsYWNlaG9sZGVyJ11baWQ9JyIgKyBwbGFjZWhvbGRlcklkICsgIiddIik7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyS2V5ID0gcGxhY2Vob2xkZXJDb2RlVGFnLmF0dHIoImtleSIpOw0KICAgICAgICAgICAgICAgIGlmIChuZXcgU1hBLkZlYXR1cmUuQ29tcG9zaXRlcy5QbGFjZWhvbGRlcihwbGFjZWhvbGRlcktleSkuR2V0Q29tcG9zaXRlU2VjdGlvblBsYWNlaG9sZGVyKCkgPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiAocGxhY2Vob2xkZXJLZXkpID09PSAic3RyaW5nIikgew0KICAgICAgICAgICAgICAgICAgICBlZGl0RnJhbWUgPSBTaXRlY29yZS5QYWdlTW9kZXMuQ2hyb21lTWFuYWdlci5jaHJvbWVzKCkuZmlsdGVyKGZ1bmN0aW9uIChjaHJvbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNocm9tZUtleSA9IGNocm9tZS5vcGVuaW5nTWFya2VyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNocm9tZUtleSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgY2hyb21lS2V5ID0gY2hyb21lS2V5LmF0dHIoImtleSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiAoY2hyb21lS2V5KSAhPT0gInVuZGVmaW5lZCIgJiYgY2hyb21lS2V5LmluZGV4T2YocGxhY2Vob2xkZXJLZXkpID09PSAwOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICBlZGl0RnJhbWVbMF0udHlwZS5jaHJvbWUuZGF0YS5jdXN0b20uZWRpdGFibGUgPSAiZmFsc2UiOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRocm93IDY2NjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8vZmFsbGJhY2sgLSBkZWxldGUgY29kZSB0YWdzIHRvIHByZXZlbnQgaW5zZXJ0aW5nIGludG8gcGxhY2Vob2xkZXJzDQogICAgICAgICAgICAgICAgJHBsYWNlaG9sZGVyLnNpYmxpbmdzKCJjb2RlW2Nocm9tZXR5cGU9J3BsYWNlaG9sZGVyJ10iKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1hbGVydCwgbm8tY29uc29sZSAqLw0KICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJDb3VsZCBub3QgZGlzYWJsZSBlZGl0aW5nIGZvciBwbGFjZWhvbGRlciIsIGUpOw0KICAgICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tYWxlcnQsIG5vLWNvbnNvbGUgKi8NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy9hZGp1c3QgaGVpZ2h0LCBhbmQgcmVtb3ZlIHBsYWNlaG9sZGVyICJkYXNoZWQiIGJhY2tncm91bmQNCiAgICAgICAgICAgIHBhcmVudCA9ICRwbGFjZWhvbGRlci5wYXJlbnRzKCIudG9nZ2xlLWhlYWRlciIpOw0KICAgICAgICAgICAgaWYgKHBhcmVudC5sZW5ndGggIT09IDApIHsNCiAgICAgICAgICAgICAgICBoID0gcGFyc2VJbnQocGFyZW50LmNzcygiZm9udC1zaXplIikpICogMiB8fCAoJHBsYWNlaG9sZGVyLmhlaWdodCgpIC8gMyk7DQogICAgICAgICAgICAgICAgJHBsYWNlaG9sZGVyLmFwcGVuZCgkKCI8cD5bTm8gY29tcG9uZW50cyBpbiBoZWFkZXJdPC9wPiIpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaCA9ICRwbGFjZWhvbGRlci5oZWlnaHQoKTsNCiAgICAgICAgICAgICAgICAkcGxhY2Vob2xkZXIuYXBwZW5kKCQoIjxwPltObyBjb21wb25lbnRzIGluIHNlY3Rpb25dPC9wPiIpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGggKz0gInB4IjsNCiAgICAgICAgICAgICRwbGFjZWhvbGRlci5yZW1vdmVDbGFzcygic2NFbXB0eVBsYWNlaG9sZGVyIik7DQogICAgICAgICAgICAkcGxhY2Vob2xkZXIuY3NzKCJoZWlnaHQiLCBoKTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgdmFyIHJlQmluZEV2ZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCwgcHJvcGVydGllcykgew0KICAgICAgICB2YXIgZXYgPSAnY2xpY2snLA0KICAgICAgICAgICAgaGVhZGluZ0ZpZWxkID0gY29tcG9uZW50LmZpbmQoJy5maWVsZC1oZWFkaW5nJyksDQogICAgICAgICAgICB0b2dnbGVIZWFkZXIgPSBjb21wb25lbnQuZmluZCgnLnRvZ2dsZS1oZWFkZXInKS5maWx0ZXIoZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICQoZWxlbWVudCkuY2xvc2VzdCgnLmFjY29yZGlvbicpLmlzKGNvbXBvbmVudCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgaWYgKHByb3BlcnRpZXMuZXhwYW5kT25Ib3Zlcikgew0KICAgICAgICAgICAgZXYgPSAnbW91c2VlbnRlcicNCiAgICAgICAgfQ0KICAgICAgICB0b2dnbGVIZWFkZXIub2ZmKGV2KTsNCg0KICAgICAgICBoZWFkaW5nRmllbGQub24oJ2tleXVwJywgZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgfSkNCg0KICAgICAgICB0b2dnbGVIZWFkZXIuZmluZCgnLmNvbXBvbmVudC1jb250ZW50OmZpcnN0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwNCiAgICAgICAgICAgICAgICBwYW5lbCA9ICR0aGlzLmNsb3Nlc3QoJy5pdGVtJyksDQogICAgICAgICAgICAgICAgYWNjb3JkaW9uID0gJHRoaXMuY2xvc2VzdCgnLmFjY29yZGlvbicpLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBwYW5lbC5maW5kKCcudG9nZ2xlLWNvbnRlbnQ6Zmlyc3QnKSwNCiAgICAgICAgICAgICAgICAkYm9keSA9ICQoJ2JvZHknKSwNCiAgICAgICAgICAgICAgICBzaWJsaW5ncyA9IHBhbmVsLnNpYmxpbmdzKCksDQogICAgICAgICAgICAgICAgc2libGluZ3NDb250ZW50ID0gc2libGluZ3MuZmluZCgnLnRvZ2dsZS1jb250ZW50JyksDQogICAgICAgICAgICAgICAgJGZpZWxkSGVhZGluZz0gJHRoaXMuZmluZCgnPmZpZWxkLWhlYWRpbmcnKTsNCg0KICAgICAgICAgICAgLy8gSG9yaXpvbnRhbCBhbmltYXRpb24NCiAgICAgICAgICAgIGlmIChhY2NvcmRpb24uaGFzQ2xhc3MoImFjY29yZGlvbi1ob3Jpem9udGFsIikpIHsNCiAgICAgICAgICAgICAgICBYQS5jb21wb25lbnQuYWNjb3JkaW9ucy5hbmltYXRlSG9yaXpvbnRhbC5jYWxsKHRoaXMsIHByb3BlcnRpZXMpOw0KICAgICAgICAgICAgICAgIC8vIFZlcnRpY2FsIGFuaW1hdGlvbg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAkZmllbGRIZWFkaW5nLnRvZ2dsZUNsYXNzKCdhY3RpdmVGaWVsZEhlYWRlcicpDQogICAgICAgICAgICAgICAgLy8gQ2xvc2UgYWxsIG90aGVyIGl0ZW1zIGlmIG9wZW4gDQogICAgICAgICAgICAgICAgLy8gbXVsdGlwbGUgb3B0aW9uIGRpc2FibGVkDQogICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0aWVzLmNhbk9wZW5NdWx0aXBsZSkgew0KICAgICAgICAgICAgICAgICAgICBzaWJsaW5ncy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgICAgIHNpYmxpbmdzQ29udGVudC5zdG9wKCkuc2xpZGVVcCh7DQogICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogcHJvcGVydGllcy5zcGVlZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGVhc2luZzogcHJvcGVydGllcy5lYXNpbmcNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHNpYmxpbmdzQ29udGVudC5wcm9taXNlKCkuZG9uZShmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYWdlRWRpdG9yKCk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgcGFuZWwudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSBzdGF0ZSBvZiBzZWxlY3RlZCBpdGVtDQogICAgICAgICAgICAgICAgLy8gSWYgdG9nZ2xlIHN0YXRlIGlzIGVuYWJsZWQgDQogICAgICAgICAgICAgICAgaWYgKHByb3BlcnRpZXMuY2FuVG9nZ2xlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVUb2dnbGUoew0KICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHByb3BlcnRpZXMuc3BlZWQsDQogICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6IHByb3BlcnRpZXMuZWFzaW5nDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc2xpZGVEb3duKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBwcm9wZXJ0aWVzLnNwZWVkLA0KICAgICAgICAgICAgICAgICAgICAgICAgZWFzaW5nOiBwcm9wZXJ0aWVzLmVhc2luZw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY29udGVudC5wcm9taXNlKCkuZG9uZShmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHBhZ2VFZGl0b3IoKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgdmFyIGFmdGVySW5pdFNjcmlwdCA9IGZ1bmN0aW9uIChjb21wb25lbnQsIHByb3ApIHsNCiAgICAgICAgcmVCaW5kRXZlbnQoY29tcG9uZW50LCBwcm9wKTsNCiAgICAgICAgZGlzYWJsZUVtcHR5QWNjb3JkaW9ucyhjb21wb25lbnQpOw0KICAgIH0NCg0KICAgIHJldHVybiBmdW5jdGlvbiAoY29tcG9uZW50LCBwcm9wKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBiZWZvcmVJbml0U2NyaXB0KGNvbXBvbmVudCwgcHJvcCk7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlDQogICAgICAgICAgICBjb25zb2xlLmxvZyhlKQ0KICAgICAgICB9DQogICAgICAgIHZhciBhbnN3ZXIgPSBmdW5jLmFwcGx5KHRoaXMsIFtjb21wb25lbnQsIHByb3BdKTsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGFmdGVySW5pdFNjcmlwdChjb21wb25lbnQsIHByb3ApOw0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQ0KICAgICAgICAgICAgY29uc29sZS5sb2coZSkNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBhbnN3ZXI7DQogICAgfQ0KDQp9KShYQS5jb21wb25lbnQuYWNjb3JkaW9ucy5pbml0SW5zdGFuY2UsIGpRdWVyeSkpDQo=
- ID: "6954b7c7-2487-423f-8600-436cb3b6dc0e"
  Hint: Size
  Value: 6401
- ID: "6f47a0a5-9c94-4b48-abeb-42d38def6054"
  Hint: Mime Type
  Value: "application/x-javascript"
- ID: "ba3f86a2-4a1c-4d78-b63d-91c2779c1b5e"
  Hint: __Sortorder
  Value: 0
- ID: "c06867fe-9a43-4c7d-b739-48780492d06f"
  Hint: Extension
  Value: js
Languages:
- Language: en
  Versions:
  - Version: 1
    Fields:
    - ID: "25bed78c-4957-4165-998a-ca1b52f67497"
      Hint: __Created
      Value: 20160509T085849Z
    - ID: "8cdc337e-a112-42fb-bbb4-4143751e123f"
      Hint: __Revision
      Value: "162cb922-a0f8-4802-b7f0-f5bf7ea47c55"
